
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta property="og:image" content="images/og_image-8d192a19.jpg">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VX1FM3Z9BB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-VX1FM3Z9BB');
    </script>
    <link href="images/favicon-81d9f5dc.ico" rel="icon" type="image/ico" />
        <meta
            name="title"
            content="Paket Docs :: API Documentation"
        >
        <meta
            name="description"
            content="Documentation site for the Paket Watch APIs"
        >
        <meta
            name="keywords"
            content="Paket,API,Documentation,Streaming,Watch"
        >
        <meta
            name="robots"
            content="index, follow"
        >
        <meta
            name="language"
            content="English"
        >
        <meta
            name="revisit-after"
            content="30 days"
        >
        <meta
            name="author"
            content="Paket Media, Inc."
        >
        <meta
            property="og:title"
            content="Paket Docs :: API Documentation"
        >
        <meta
            property="og:description"
            content="Documentation site for the Paket Watch APIs"
        >
        <meta
            property="og:url"
            content="https://docs.paket.tv"
        >
        <meta
            property="og:type"
            content="website"
        >
        <meta
            name="twitter:card"
            content="summary_large_image"
        >
    <title>Paket Docs :: API Documentation</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-96b2eb37.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-ad6dbb10.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-906c1e7c.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[]">
    <div class="top-nav">
    </div>
    <a href="#" id="nav-button">
      <span>

        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="https://docs.paket.tv">
        <span class="logo-container"> 
          <img src="images/logo-031dbf17.svg" class="logo" alt="" />
        </span>
      </a>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#tenants-and-clients" class="toc-h1 toc-link" data-title="Tenants and Clients">Tenants and Clients</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication-basic-authentication" class="toc-h2 toc-link" data-title="Basic Authentication">Basic Authentication</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#authentication-basic-authentication-obtaining-api-credentials" class="toc-h3 toc-link" data-title="Obtaining API Credentials">Obtaining API Credentials</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#testing" class="toc-h1 toc-link" data-title="Testing">Testing</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#testing-test-keys" class="toc-h2 toc-link" data-title="Test Keys">Test Keys</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#testing-test-keys-test-request-behavior" class="toc-h3 toc-link" data-title="Test Request Behavior">Test Request Behavior</a>
                          </li>
                          <li>
                            <a href="#testing-test-keys-identifying-test-responses" class="toc-h3 toc-link" data-title="Identifying Test Responses">Identifying Test Responses</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#security" class="toc-h1 toc-link" data-title="Security">Security</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#security-security-features" class="toc-h2 toc-link" data-title="Security Features">Security Features</a>
                  </li>
                  <li>
                    <a href="#security-signing-api-requests" class="toc-h2 toc-link" data-title="Signing API Requests">Signing API Requests</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#security-signing-api-requests-how-it-works" class="toc-h3 toc-link" data-title="How It Works">How It Works</a>
                          </li>
                          <li>
                            <a href="#security-signing-api-requests-headers-to-include" class="toc-h3 toc-link" data-title="Headers To Include">Headers To Include</a>
                          </li>
                          <li>
                            <a href="#security-signing-api-requests-signature-format" class="toc-h3 toc-link" data-title="Signature Format">Signature Format</a>
                          </li>
                          <li>
                            <a href="#security-signing-api-requests-delete-requests-without-a-body" class="toc-h3 toc-link" data-title="DELETE Requests Without a Body">DELETE Requests Without a Body</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#security-securing-webhooks" class="toc-h2 toc-link" data-title="Securing Webhooks">Securing Webhooks</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#security-securing-webhooks-configure-your-endpoints" class="toc-h3 toc-link" data-title="Configure your endpoints">Configure your endpoints</a>
                          </li>
                          <li>
                            <a href="#security-securing-webhooks-verify-webhook-signature" class="toc-h3 toc-link" data-title="Verify Webhook Signature">Verify Webhook Signature</a>
                          </li>
                          <li>
                            <a href="#security-securing-webhooks-paket-ip-addresses" class="toc-h3 toc-link" data-title="Paket IP addresses">Paket IP addresses</a>
                          </li>
                          <li>
                            <a href="#security-securing-webhooks-retry-behavior" class="toc-h3 toc-link" data-title="Retry Behavior">Retry Behavior</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#errors-http-status-codes" class="toc-h2 toc-link" data-title="HTTP Status Codes">HTTP Status Codes</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#errors-http-status-codes-common-error-codes" class="toc-h3 toc-link" data-title="Common Error Codes">Common Error Codes</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#idempotency" class="toc-h1 toc-link" data-title="Idempotency">Idempotency</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#idempotency-how-it-works" class="toc-h2 toc-link" data-title="How It Works">How It Works</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#idempotency-how-it-works-generating-idempotency-keys" class="toc-h3 toc-link" data-title="Generating Idempotency Keys">Generating Idempotency Keys</a>
                          </li>
                          <li>
                            <a href="#idempotency-how-it-works-key-lifecycle" class="toc-h3 toc-link" data-title="Key Lifecycle">Key Lifecycle</a>
                          </li>
                          <li>
                            <a href="#idempotency-how-it-works-important-notes" class="toc-h3 toc-link" data-title="Important Notes">Important Notes</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#platform-data" class="toc-h1 toc-link" data-title="Platform Data">Platform Data</a>
          </li>
          <li>
            <a href="#pagination" class="toc-h1 toc-link" data-title="Pagination">Pagination</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#pagination-pagination-response-format" class="toc-h2 toc-link" data-title="Pagination Response Format">Pagination Response Format</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#pagination-pagination-response-format-parameters" class="toc-h3 toc-link" data-title="Parameters">Parameters</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#versioning" class="toc-h1 toc-link" data-title="Versioning">Versioning</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#versioning-version-management" class="toc-h2 toc-link" data-title="Version Management">Version Management</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#versioning-version-management-default-version" class="toc-h3 toc-link" data-title="Default Version">Default Version</a>
                          </li>
                          <li>
                            <a href="#versioning-version-management-webhook-versioning" class="toc-h3 toc-link" data-title="Webhook Versioning">Webhook Versioning</a>
                          </li>
                          <li>
                            <a href="#versioning-version-management-upgrading-your-api-version" class="toc-h3 toc-link" data-title="Upgrading Your API Version">Upgrading Your API Version</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#core-api" class="toc-h1 toc-link" data-title="Core API">Core API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#core-api-api-status" class="toc-h2 toc-link" data-title="API Status">API Status</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-api-api-status-the-status-object" class="toc-h3 toc-link" data-title="The Status Object">The Status Object</a>
                          </li>
                          <li>
                            <a href="#core-api-api-status-retrieve-api-status" class="toc-h3 toc-link" data-title="Retrieve API Status">Retrieve API Status</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-api-sessions" class="toc-h2 toc-link" data-title="Sessions">Sessions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-api-sessions-the-session-object" class="toc-h3 toc-link" data-title="The Session Object">The Session Object</a>
                          </li>
                          <li>
                            <a href="#core-api-sessions-create-a-new-session" class="toc-h3 toc-link" data-title="Create a new Session">Create a new Session</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-api-contexts" class="toc-h2 toc-link" data-title="Contexts">Contexts</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-api-contexts-the-context-object" class="toc-h3 toc-link" data-title="The Context Object">The Context Object</a>
                          </li>
                          <li>
                            <a href="#core-api-contexts-create-a-new-context" class="toc-h3 toc-link" data-title="Create a new Context">Create a new Context</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tv-as-a-service-api" class="toc-h1 toc-link" data-title="TV as a Service API">TV as a Service API</a>
          </li>
          <li>
            <a href="#upnext-api" class="toc-h1 toc-link" data-title="UpNext API">UpNext API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#upnext-api-overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#upnext-api-overview-the-list-object" class="toc-h3 toc-link" data-title="The List Object">The List Object</a>
                          </li>
                          <li>
                            <a href="#upnext-api-overview-the-list-item-object" class="toc-h3 toc-link" data-title="The List Item Object">The List Item Object</a>
                          </li>
                          <li>
                            <a href="#upnext-api-overview-the-session-context-object" class="toc-h3 toc-link" data-title="The Session Context Object">The Session Context Object</a>
                          </li>
                          <li>
                            <a href="#upnext-api-overview-platform-upnext-flow" class="toc-h3 toc-link" data-title="Platform UpNext Flow">Platform UpNext Flow</a>
                          </li>
                          <li>
                            <a href="#upnext-api-overview-publisher-upnext-flow" class="toc-h3 toc-link" data-title="Publisher UpNext Flow">Publisher UpNext Flow</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#upnext-api-sessions" class="toc-h2 toc-link" data-title="Sessions">Sessions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#upnext-api-sessions-add-a-context" class="toc-h3 toc-link" data-title="Add a Context">Add a Context</a>
                          </li>
                          <li>
                            <a href="#upnext-api-sessions-remove-a-context" class="toc-h3 toc-link" data-title="Remove a Context">Remove a Context</a>
                          </li>
                          <li>
                            <a href="#upnext-api-sessions-get-an-aggregated-list" class="toc-h3 toc-link" data-title="Get an Aggregated List">Get an Aggregated List</a>
                          </li>
                          <li>
                            <a href="#upnext-api-sessions-get-a-specific-list" class="toc-h3 toc-link" data-title="Get a Specific List">Get a Specific List</a>
                          </li>
                          <li>
                            <a href="#upnext-api-sessions-get-session-contexts" class="toc-h3 toc-link" data-title="Get Session Contexts">Get Session Contexts</a>
                          </li>
                          <li>
                            <a href="#upnext-api-sessions-hide-an-item-in-a-list" class="toc-h3 toc-link" data-title="Hide an Item in a List">Hide an Item in a List</a>
                          </li>
                          <li>
                            <a href="#upnext-api-sessions-remove-a-session" class="toc-h3 toc-link" data-title="Remove a Session">Remove a Session</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#upnext-api-contexts" class="toc-h2 toc-link" data-title="Contexts">Contexts</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#upnext-api-contexts-publisher-guidelines" class="toc-h3 toc-link" data-title="Publisher Guidelines">Publisher Guidelines</a>
                          </li>
                          <li>
                            <a href="#upnext-api-contexts-add-item-to-list" class="toc-h3 toc-link" data-title="Add Item to List">Add Item to List</a>
                          </li>
                          <li>
                            <a href="#upnext-api-contexts-remove-item-from-list" class="toc-h3 toc-link" data-title="Remove Item from List">Remove Item from List</a>
                          </li>
                          <li>
                            <a href="#upnext-api-contexts-get-a-context-39-s-list" class="toc-h3 toc-link" data-title="Get a Context's List">Get a Context's List</a>
                          </li>
                          <li>
                            <a href="#upnext-api-contexts-remove-context-39-s-sessions" class="toc-h3 toc-link" data-title="Remove Context's Sessions">Remove Context's Sessions</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bento-api" class="toc-h1 toc-link" data-title="Bento API">Bento API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#bento-api-overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#bento-api-overview-the-plan-object" class="toc-h3 toc-link" data-title="The Plan Object">The Plan Object</a>
                          </li>
                          <li>
                            <a href="#bento-api-overview-the-subscription-object" class="toc-h3 toc-link" data-title="The Subscription Object">The Subscription Object</a>
                          </li>
                          <li>
                            <a href="#bento-api-overview-the-invoice-object" class="toc-h3 toc-link" data-title="The Invoice Object">The Invoice Object</a>
                          </li>
                          <li>
                            <a href="#bento-api-overview-the-payment-object" class="toc-h3 toc-link" data-title="The Payment Object">The Payment Object</a>
                          </li>
                          <li>
                            <a href="#bento-api-overview-the-activation-session-object" class="toc-h3 toc-link" data-title="The Activation Session Object">The Activation Session Object</a>
                          </li>
                          <li>
                            <a href="#bento-api-overview-subscription-activation-flow" class="toc-h3 toc-link" data-title="Subscription Activation Flow">Subscription Activation Flow</a>
                          </li>
                          <li>
                            <a href="#bento-api-overview-subscription-renewal-flow" class="toc-h3 toc-link" data-title="Subscription Renewal Flow">Subscription Renewal Flow</a>
                          </li>
                          <li>
                            <a href="#bento-api-overview-subscription-cancellation-flow" class="toc-h3 toc-link" data-title="Subscription Cancellation Flow">Subscription Cancellation Flow</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#bento-api-plans" class="toc-h2 toc-link" data-title="Plans">Plans</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#bento-api-plans-list-plans" class="toc-h3 toc-link" data-title="List Plans">List Plans</a>
                          </li>
                          <li>
                            <a href="#bento-api-plans-get-plan" class="toc-h3 toc-link" data-title="Get Plan">Get Plan</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#bento-api-subscriptions" class="toc-h2 toc-link" data-title="Subscriptions">Subscriptions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#bento-api-subscriptions-create-subscription" class="toc-h3 toc-link" data-title="Create Subscription">Create Subscription</a>
                          </li>
                          <li>
                            <a href="#bento-api-subscriptions-update-subscription" class="toc-h3 toc-link" data-title="Update Subscription">Update Subscription</a>
                          </li>
                          <li>
                            <a href="#bento-api-subscriptions-get-subscription" class="toc-h3 toc-link" data-title="Get Subscription">Get Subscription</a>
                          </li>
                          <li>
                            <a href="#bento-api-subscriptions-list-subscriptions" class="toc-h3 toc-link" data-title="List Subscriptions">List Subscriptions</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#bento-api-invoices" class="toc-h2 toc-link" data-title="Invoices">Invoices</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#bento-api-invoices-update-invoice" class="toc-h3 toc-link" data-title="Update Invoice">Update Invoice</a>
                          </li>
                          <li>
                            <a href="#bento-api-invoices-get-invoice" class="toc-h3 toc-link" data-title="Get Invoice">Get Invoice</a>
                          </li>
                          <li>
                            <a href="#bento-api-invoices-list-invoices" class="toc-h3 toc-link" data-title="List Invoices">List Invoices</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#bento-api-payments" class="toc-h2 toc-link" data-title="Payments">Payments</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#bento-api-payments-create-payment" class="toc-h3 toc-link" data-title="Create Payment">Create Payment</a>
                          </li>
                          <li>
                            <a href="#bento-api-payments-get-payment" class="toc-h3 toc-link" data-title="Get Payment">Get Payment</a>
                          </li>
                          <li>
                            <a href="#bento-api-payments-list-payments" class="toc-h3 toc-link" data-title="List Payments">List Payments</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#bento-api-activation" class="toc-h2 toc-link" data-title="Activation">Activation</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#bento-api-activation-exchange-activation-code" class="toc-h3 toc-link" data-title="Exchange Activation Code">Exchange Activation Code</a>
                          </li>
                          <li>
                            <a href="#bento-api-activation-update-activation-status" class="toc-h3 toc-link" data-title="Update Activation Status">Update Activation Status</a>
                          </li>
                          <li>
                            <a href="#bento-api-activation-regenerate-activation-codes" class="toc-h3 toc-link" data-title="Regenerate Activation Codes">Regenerate Activation Codes</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#webhooks-events" class="toc-h2 toc-link" data-title="Events">Events</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#webhooks-events-the-event-object" class="toc-h3 toc-link" data-title="The Event object">The Event object</a>
                          </li>
                          <li>
                            <a href="#webhooks-events-types-of-events" class="toc-h3 toc-link" data-title="Types of events">Types of events</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><div style="padding-bottom:20px">© 2024 Paket Media, Inc.</div></li>
            <li><div class='footer-hidden'><a href='https://documenter.getpostman.com/view/33020276/2sA3JT1dNd'>Paket API Reference</a></div></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Paket! This documentation explains key concepts and describes how Platforms and Publishers engage with the Paket Watch APIs.</p>

<p><strong>So, what is it?</strong></p>

<p>Paket is a universal engagement platform that gives connected TV platforms, operators, and telcos access to:</p>

<ul>
<li><strong>Scalable subscription and bundling orchestration</strong> – streamline third-party subscription management across services using platform&#39;s native payments and identity services.</li>
<li><strong>AI-powered streaming television</strong> – deliver personalized programming and recommendations that adapt to each user.</li>
<li><strong>Cross-device continue watching &amp; Up Next management</strong> – unify playback progress and next-up recommendations across multiple apps and devices.</li>
</ul>

<p>Our suite of APIs is device- and platform-agnostic, designed to increase engagement through personalization, improve discovery, and provide actionable analytics.</p>

<p>The Paket API is organized around <a href="https://en.wikipedia.org/wiki/REST">REST</a>. Our API has predictable resource-oriented URLs, accepts JSON-encoded request bodies, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and verbs.</p>

<blockquote>
<p>Base URL</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>https://api.paket.tv/v1
</code></pre></div>
<p>There are two primary types of API consumers:</p>

<p><strong>Platforms</strong><br>
Platform partners are typically TV OEMs, platforms, operating systems, and marketplaces.</p>

<p><strong>Publishers</strong><br>
Publisher partners are typically publishers of streaming media or other subscription-based apps.</p>

<p>How a partner engages with the API depends largely on whether they are a Platform or a Publisher. This designation is assigned in the <a href="https://developer.paket.tv">Paket Developer Portal</a> at the time of the Company&#39;s account setup.</p>
<h1 id='tenants-and-clients'>Tenants and Clients</h1>
<p>To begin working with the Paket API, Partners must first create a Tenant in the <a href="https://developer.paket.tv">Paket Developer Portal</a>. </p>

<ul>
<li><strong>Platforms</strong> should register as a <strong>Platform Tenant</strong></li>
<li><strong>Publishers</strong> should register as an <strong>App Tenant</strong></li>
</ul>

<p>Once a Tenant is created, one or more <strong>API Clients</strong> can be provisioned. API Clients represent application instances that communicate with the Paket API and exchange data between Tenants. Clients are typically scoped at the <strong>application/environment</strong> level (e.g., iOS app, Android app, web app, OTT app, dev vs. prod).</p>

<aside class="notice">
A Platform such as Samsung might create a Tenant for Tizen OS, whereas a Publisher such as Disney Streaming Services might create discrete Apps each for Hulu, Disney+, and ESPN.
</aside>
<h1 id='authentication'>Authentication</h1>
<p>The Paket API uses basic access authentication to authenticate all incoming API requests (please note there are additional <a href="#security">Security</a> protocols used to secure API requests).</p>
<h2 id='authentication-basic-authentication'>Basic Authentication</h2>
<blockquote>
<p>Authenticated Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://api.paket.tv/v1 <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Basic [Base64 encoding of username and password]"</span>
</code></pre></div>
<p>Authenticating via Basic Auth involves passing a Base64 encode of your Client&#39;s <code>username</code> and <code>password</code>, prefixed with <code>Basic</code> within the request&#39;s <code>Authorization</code> header.</p>
<h3 id='authentication-basic-authentication-obtaining-api-credentials'>Obtaining API Credentials</h3>
<p>API credentials can be found in the <a href="https://developer.paket.tv">Paket Developer Portal</a> within the Client&#39;s API Credentials tab. The <code>username</code> and <code>password</code> are itemized as <strong>&#39;API Username&#39;</strong> and <strong>&#39;API Secret Key&#39;</strong>, respectively:</p>

<p><img src="images/api_credentials-324b18bb.png" alt="Paket API Portal: Credentials" /></p>

<aside class="notice">
Rolled Secret Keys will remain valid for the duration specified before they are permanently expired.
</aside>
<h1 id='testing'>Testing</h1>
<p>API requests may be tested in a live environment simply by using the API Test Key provided in the <a href="https://developer.paket.tv">Paket Developer Portal</a>.</p>
<h2 id='testing-test-keys'>Test Keys</h2>
<p>Test keys begin with the prefix <strong><code>test_sk</code></strong> and inherit the same behaviors as live API Secret Keys, save that they call test responses. </p>
<h3 id='testing-test-keys-test-request-behavior'>Test Request Behavior</h3>
<ul>
<li>Test API requests are validated identically to live requests</li>
<li>Response schemas are identical to live requests</li>
<li>Response data is dynamically generated for testing purposes</li>
</ul>
<h3 id='testing-test-keys-identifying-test-responses'>Identifying Test Responses</h3>
<p>The <strong><code>Paket-Response-Type: Test</code></strong> header indicates whether or not the response is via the API Test Key.</p>

<aside class="notice">
Test keys allow you to safely test your integration without affecting live data or incurring charges.
</aside>
<h1 id='security'>Security</h1>
<p>Securing API requests is critical to ensure data integrity. The Paket API employs the following methods to ensure that requests made to its API are authenticated and secure:</p>
<h2 id='security-security-features'>Security Features</h2>
<ul>
<li><strong>Forced HTTPS</strong>: Connections are strictly enforced over HTTPS at <code>https://api.paket.tv/v1</code></li>
<li><strong>TLS/SSL</strong>: X.509 server certificates to validate server requests are authenticated as Paket Media, Inc.</li>
<li><strong>Basic Auth</strong>: Basic authentication required for all API requests with unique Client username and rollable secret keys</li>
<li><strong>IP Whitelisting</strong>: Restrict access to API requests to your server IP addresses designated at the Client level</li>
<li><strong>Encryption-at-rest</strong>: All data stored is encrypted-at-rest</li>
</ul>
<h2 id='security-signing-api-requests'>Signing API Requests</h2>
<p>In addition to Basic Authentication and IP whitelisting, Paket supports optional <strong>HMAC-SHA256 payload signing</strong> to ensure the integrity and authenticity of the request body. This feature is recommended for clients who want to protect against tampering or replay attacks at the payload level.</p>
<h3 id='security-signing-api-requests-how-it-works'>How It Works</h3>
<p>Each API client uses its existing secret key (provided with the client credentials) to compute an HMAC signature of the request payload. Paket will verify the signature if present, but does not require it unless enforced at the client level.</p>

<p>When a signed request is received, Paket will:</p>

<ul>
<li>Verify the signature matches the body and timestamp using the shared secret key.</li>
<li>Ensure the request timestamp is within a 5-minute tolerance window.</li>
<li>Log the signature status for audit and observability purposes.</li>
</ul>

<p>If the headers are not present, the request is still accepted (unless signing is explicitly required for that client).</p>
<h3 id='security-signing-api-requests-headers-to-include'>Headers To Include</h3>
<p>To sign your request, add the following headers:</p>

<p><strong><code>X-Paket-Timestamp</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Unix timestamp in milliseconds</p>

<p><strong><code>X-Paket-Signature</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
<code>sha256=</code> followed by HMAC of payload</p>
<h3 id='security-signing-api-requests-signature-format'>Signature Format</h3>
<blockquote>
<p>Example HMAC-SHA256 payload signing (Node.js)</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">crypto</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">signPaketRequest</span><span class="p">(</span><span class="nx">secretKey</span><span class="p">,</span> <span class="nx">body</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">timestamp</span><span class="p">}</span><span class="s2">.</span><span class="p">${</span><span class="nx">body</span><span class="p">}</span><span class="s2">`</span>
  <span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span>
    <span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="dl">'</span><span class="s1">sha256</span><span class="dl">'</span><span class="p">,</span> <span class="nx">secretKey</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="dl">'</span><span class="s1">hex</span><span class="dl">'</span><span class="p">)</span>

  <span class="k">return</span> <span class="s2">`sha256=</span><span class="p">${</span><span class="nx">signature</span><span class="p">}</span><span class="s2">`</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">secretKey</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">your_client_secret_key</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">plan_id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xyz</span><span class="dl">'</span><span class="p">,</span> <span class="na">session_id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">abc</span><span class="dl">'</span> <span class="p">})</span>
<span class="kd">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>

<span class="kd">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Basic base64(username:secret)</span><span class="dl">'</span><span class="p">,</span>
  <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
  <span class="dl">'</span><span class="s1">X-Paket-Timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span><span class="p">,</span>
  <span class="dl">'</span><span class="s1">X-Paket-Signature</span><span class="dl">'</span><span class="p">:</span> <span class="nx">signPaketRequest</span><span class="p">(</span><span class="nx">secretKey</span><span class="p">,</span> <span class="nx">body</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">),</span>
<span class="p">}</span>
</code></pre></div>
<p>The signature is computed as:</p>

<p><code>HMAC_SHA256(secret_key, timestamp + &#39;.&#39; + request_body)</code></p>

<ul>
<li><code>secret_key</code>: your client’s API secret</li>
<li><code>timestamp</code>: the current UNIX timestamp in milliseconds</li>
<li><code>request_body</code>: the raw body string (or &#39;&#39; if there is no body)</li>
</ul>

<p>The result should be hex-encoded and prefixed with <code>sha256=</code>.</p>
<h3 id='security-signing-api-requests-delete-requests-without-a-body'>DELETE Requests Without a Body</h3>
<p>When sending a <code>DELETE</code> request (or any request without a body), sign an empty string as the body:</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">body</span> <span class="o">=</span> <span class="dl">''</span>  <span class="c1">// DELETE usually has no body</span>
<span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">timestamp</span><span class="p">}</span><span class="s2">.</span><span class="p">${</span><span class="nx">body</span><span class="p">}</span><span class="s2">`</span>
</code></pre></div><h2 id='security-securing-webhooks'>Securing Webhooks</h2>
<p>Webhooks play a key role in communicating critical information (in the form of events) among Platform and Publisher Clients and the Paket service. While not technically a part of the Paket API, this section explains how to set up and secure your webhooks endpoints; and serves as a reference as to which notifications are sent and on which triggering events.</p>
<h3 id='security-securing-webhooks-configure-your-endpoints'>Configure your endpoints</h3>
<p>Webhooks are configured discretely under each Client object in the <a href="https://developer.paket.tv">Paket Developer Portal</a>. You may configure multiple endpoints, however, please note that at present all events will be sent to all active endpoints.</p>

<p>Webhook endpoints must be secured using TLS/SSL certificates over HTTPS and are signed using a signing secret, provided on creation of each endpoint. While it is possible to receive events without <a href="#webhooks-configure-your-endpoints-verify-webhook-signature">verifying the webhook signature</a>, it is highly recommended that each event is verified before taking any programmatic action.</p>

<p><img src="images/webhooks-77387e24.png" alt="Webhooks Configuration" /></p>
<h3 id='security-securing-webhooks-verify-webhook-signature'>Verify Webhook Signature</h3>
<p>The <code>Paket-Signature</code> header included in each signed event contains a timestamp and one or more signatures that you must verify. The timestamp is prefixed by <code>t=</code>, and each signature is prefixed by a scheme. Schemes start with <code>v</code>, followed by an integer. Currently, the only valid live signature scheme is <code>v1</code>. To aid with testing, Paket sends an additional signature with a fake <code>v0</code> scheme.</p>

<blockquote>
<p>Example <code>Paket-Signature</code> header</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>Paket-Signature:
t=1709156882568,
v1=f03a63e17d5720d7d01974d115059c8ec05b0f425828a2d0d341020f431bbafa,
v0=3e3be55cd51ef0476ddf7fe83e72f10cf7358e54dd8eab17560dfb879b9d485a
</code></pre></div>
<p>Paket generates signatures using a hash-based message authentication code (HMAC) with SHA-256. To prevent downgrade attacks, ignore all schemes that aren’t <code>v1</code>.</p>

<p>You can have multiple signatures with the same scheme-secret pair when you roll an endpoint’s secret, and keep the previous secret active for up to 24 hours. During this time, your endpoint has multiple active secrets and Paket generates one signature for each secret.</p>

<p>To create a manual solution for verifying signatures, you must complete the following steps:</p>
<h4 id='security-securing-webhooks-verify-webhook-signature-step-1-extract-the-timestamp-and-signatures-from-the-header'>Step 1: Extract the timestamp and signatures from the header</h4>
<p>Split the header using the <code>,</code> character as the separator to get a list of elements. Then split each element using the <code>=</code> character as the separator to get a prefix and value pair.</p>

<p>The value for the prefix <code>t</code> corresponds to the timestamp, and <code>v1</code> corresponds to the signature (or signatures). You can discard all other elements.</p>
<h4 id='security-securing-webhooks-verify-webhook-signature-step-2-prepare-the-signed_payload-string'>Step 2: Prepare the <code>signed_payload</code> string</h4>
<blockquote>
<p>Example  <code>signed_payload</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>1709156882568.{"idempotency_key":"62a0152b-6ac4-49f7-b605-5e18cbf70ed8","data":{"context_id":"6b0af623-2923-4997-92a6-73f94bbe321e","client_id":"286d2a536a5d6b6b","app_id":"417f3625d067cbe3","created_at":"2024-03-05T17:56:26.265Z","session_id":"4c682b9e-65b4-4e43-a5e9-96f58a967240"},"type":"context.session.created","api_version":"2023-12-10","created":1709661388431,"object":"event","id":"req_ad8a67d675a71a89"}
</code></pre></div>
<p>The <code>signed_payload</code> string is created by concatenating:</p>

<ul>
<li>The timestamp (as a string)</li>
<li>The character <code>.</code></li>
<li>The actual JSON payload (that is, the request body)</li>
</ul>
<h4 id='security-securing-webhooks-verify-webhook-signature-step-3-determine-the-expected-signature'>Step 3: Determine the expected signature</h4>
<blockquote>
<p>Example Hashed result</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>f03a63e17d5720d7d01974d115059c8ec05b0f425828a2d0d341020f431bbafa
</code></pre></div>
<p>Compute an HMAC with the SHA256 hash function. Use the endpoint’s signing secret as the key, and use the signed_payload string as the message.</p>
<h4 id='security-securing-webhooks-verify-webhook-signature-step-4-compare-the-signatures'>Step 4: Compare the signatures</h4>
<p>Compare the signature (or signatures) in the header to the expected signature. For an equality match, compute the difference between the current timestamp and the received timestamp, then decide if the difference is within your tolerance.</p>

<p>To protect against timing attacks, use a constant-time-string comparison to compare the expected signature to each of the received signatures.</p>

<!-- ### Monitoring endpoints

Add section when dashboard monitoring goes live. -->
<h3 id='security-securing-webhooks-paket-ip-addresses'>Paket IP addresses</h3>
<p>To further protect your endpoints, it is recommended that you implement IP whitelisting of the Paket servers from which you may receive webhook events.</p>

<p>Paket IP Addresses:</p>

<ul>
<li><code>54.185.102.16</code></li>
<li><code>52.40.235.54</code></li>
<li><code>35.83.22.57</code></li>
</ul>
<h3 id='security-securing-webhooks-retry-behavior'>Retry Behavior</h3>
<p>Paket attempts to deliver a given event to your webhook endpoint up to fifteen (15) times over the course of 3 days with an exponential back off. In the Webhooks logs section of the Paket Publisher Portal, you can view when the next retry will occur as well as the event and event data itself.</p>
<h1 id='errors'>Errors</h1>
<p>Paket uses conventional HTTP response codes to indicate the success or failure of an API request. </p>
<h2 id='errors-http-status-codes'>HTTP Status Codes</h2>
<p>In general:
- Codes in the <strong>2xx</strong> range indicate success
- Codes in the <strong>4xx</strong> range indicate an error that failed given the information provided (e.g., a required parameter was omitted, etc.)
- Codes in the <strong>5xx</strong> range indicate an error with Paket&#39;s servers</p>
<h3 id='errors-http-status-codes-common-error-codes'>Common Error Codes</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td><strong>400</strong></td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td><strong>401</strong></td>
<td>Unauthorized -- Your API credentials are wrong.</td>
</tr>
<tr>
<td><strong>403</strong></td>
<td>Forbidden -- You do not have permission to access the requested resource.</td>
</tr>
<tr>
<td><strong>404</strong></td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td><strong>500</strong></td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td><strong>503</strong></td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>
<h1 id='idempotency'>Idempotency</h1>
<p>The Paket API supports idempotency for safely retrying requests without accidentally performing the same operation twice. When creating or updating an object, use an idempotency key. Then, if a connection error occurs, you can safely repeat the request without risk of creating a second object or performing the update twice.</p>
<h2 id='idempotency-how-it-works'>How It Works</h2>
<p>To perform an idempotent request, provide an additional <strong><code>Idempotency-Key</code></strong> element to the request header.</p>

<p>Paket&#39;s idempotency works by saving the resulting status code and body of the first request made for any given idempotency key, regardless of whether it succeeds or fails. Subsequent requests with the same key return the same result.</p>
<h3 id='idempotency-how-it-works-generating-idempotency-keys'>Generating Idempotency Keys</h3>
<p>A requesting Client generates an idempotency key, which is a unique key that the server uses to recognize subsequent retries of the same request. How you create unique keys is up to you, but we suggest using <strong>V4 UUIDs</strong>, or another random string with enough entropy to avoid collisions. Idempotency keys are up to <strong>255 characters</strong> long.</p>
<h3 id='idempotency-how-it-works-key-lifecycle'>Key Lifecycle</h3>
<ul>
<li>Keys are removed from the system automatically after they&#39;re at least <strong>72 hours old</strong></li>
<li>A new request will be generated if a key is reused after the original is pruned</li>
<li>The idempotency layer compares incoming parameters to those of the original request and errors if they&#39;re different to prevent accidental misuse</li>
</ul>
<h3 id='idempotency-how-it-works-important-notes'>Important Notes</h3>
<p>We save results only after the execution of an endpoint begins. If incoming parameters fail validation, or the request conflicts with another request that&#39;s executing concurrently, we don&#39;t save the idempotent result because no API endpoint initiates the execution. You can retry these requests.</p>

<aside class="notice">
All POST and PUT requests accept idempotency keys. Don't send idempotency keys in GET and DELETE requests because it has no effect. These requests are idempotent by definition.
</aside>
<h1 id='platform-data'>Platform Data</h1>
<p>Some Platforms will require custom attributes and schemas that are not available in an API product&#39;s default attribute set.</p>

<p>To address this requirement, Platforms are able to configure custom app-level schemas and attributes to be provided by Publisher partners; as well as to define the regional availability of a Platform by region or specific countries.</p>

<p>For example, a Platform may require a custom app identifier, <code>custom_app_id</code>, is returned in API responses. In order to ensure such custom app identifier is provided by a Publisher&#39;s service, the Platform will configure this custom attribute from within their Tenant environment in the <a href="https://developer.paket.tv">Paket Developer Portal</a>.</p>

<blockquote>
<p>Example <code>platform_data</code> attribute</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nl">"platform_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"custom_app_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deep_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app://12345/cid12345"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>When preparing to integrate with a Platform, the Publisher will configure the requested custom attribute, in this case the <code>custom_app_id</code>, from within their respective App Tenant environment. This data will then be returned in subsequent Platform API responses under the <code>platform_data</code> attribute.</p>

<p>Taking this example further, perhaps the Platform also requires a <code>deep_link</code> url attribute comprised of the custom attribute <code>custom_app_id</code> and the default attribute <code>content_id</code>. In this example, the data must be returned using the following schema: <code>app://[custom_app_id]/[content_id]</code>.</p>

<p><img src="images/custom_schema-4c93bc8b.png" alt="Custom Schema Definition" /></p>

<p>The Platform will also define this schema under the custom attribute <code>deep_link</code> and by using handlebars to define the schema: <code>app://{{custom_app_id}}/{{content_id}}</code>.</p>

<p>If the value of an App&#39;s <code>custom_app_id</code> is <code>12345</code> and an item&#39;s <code>content_id</code> is <code>cid12345</code>, the resulting <code>platform_data</code> attribute returned in an API response to the requesting Platform will look something like the example to the right.</p>
<h1 id='pagination'>Pagination</h1>
<p>Many of our top-level API resources have support for bulk fetches through &quot;list&quot; API methods. For example, you can list Session Participants, Session Lists, and Participants&#39; Lists. These list API methods share a common structure and can accept the following two parameters: <strong><code>limit</code></strong> and <strong><code>next_key</code></strong>.</p>
<h2 id='pagination-pagination-response-format'>Pagination Response Format</h2>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='pagination-pagination-response-format-parameters'>Parameters</h3>
<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
The <code>limit</code> parameter is provided at the time of the request and limits the number of items returned in the API response. By default, this value is <strong>50</strong>.</p>

<p><strong><code>next_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>string/integer</span><br>
The <code>next_key</code> parameter is returned in a response in which the total results exceed the default or specified <code>limit</code> and specifies the next item to be returned in a subsequent API request. Alternatively, a request can be made with any <code>next_key</code> value, however, there is no guarantee such an object will exist.</p>
<h1 id='versioning'>Versioning</h1>
<p>When backwards-incompatible changes are made to the API, we release a new, dated version. The current version is <strong><code>2024-12-01</code></strong>. For information on all API updates, view our API changelog.</p>
<h2 id='versioning-version-management'>Version Management</h2><h3 id='versioning-version-management-default-version'>Default Version</h3>
<p>By default, requests made to the Paket API use your account&#39;s default API version (controlled in the Developer Portal) unless you override it by setting the <strong><code>Paket-Version</code></strong> header.</p>
<h3 id='versioning-version-management-webhook-versioning'>Webhook Versioning</h3>
<p>Webhook events also use your account&#39;s API version by default, unless you set an API version during endpoint creation.</p>
<h3 id='versioning-version-management-upgrading-your-api-version'>Upgrading Your API Version</h3>
<p>You can upgrade your API version in the <a href="https://developer.paket.tv">Paket Developer Portal</a>. </p>

<aside class="notice">
As a precaution, use API versioning to test a new API version before committing to an upgrade.
</aside>
<h1 id='core-api'>Core API</h1>
<p>The Core API includes requests that are used for more than one API product and, in many instances, across all of Paket&#39;s API products.</p>
<h2 id='core-api-api-status'>API Status</h2>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1
</code></pre></div>
<p>Retrieves the API status by making an authenticated <code>GET</code> request to the API&#39;s root path.</p>
<h3 id='core-api-api-status-the-status-object'>The Status Object</h3>
<blockquote>
<p>The Status Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The API is healthy!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fab3d02606122a08"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP467777522151985152"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>message</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The API Status message.</p>

<p><strong><code>client_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier of the requesting Client.</p>

<p><strong><code>app_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier of the requesting Client&#39;s App (returned if requesting tenant is an App).</p>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier of the requesting Client&#39;s App (returned if requesting tenant is a Platform).</p>
<h3 id='core-api-api-status-retrieve-api-status'>Retrieve API Status</h3>
<blockquote>
<p>GET https://api.paket.tv/v1</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1' \
    --header 'Accept: application/json' \
    --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">    "message": "The API is healthy!",</span>
<span class="s">    "client_id: "fab3d02606122a08",</span>
<span class="s">    "app_id: "AP467777522151985152"</span>
<span class="s">}</span>
</code></pre></div>
<p><strong>Returns</strong></p>

<p>Returns a status object.</p>
<h2 id='core-api-sessions'>Sessions</h2>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST https://api.paket.tv/v1/sessions
</code></pre></div>
<p>A Session represents a Platform end user either at the account or profile level. Whether the Session is associated to the account or profile is, ultimately, up to the Platform to determine. For optimal flexibility, however, a Session ID should be created and stored by a Platform at the profile level.</p>

<p>Ideally, a Session should be indefinitely associated with an end-user&#39;s account or profile. So long as the Session ID persists, all items associated with the Session will remain active.</p>
<h3 id='core-api-sessions-the-session-object'>The Session Object</h3>
<blockquote>
<p>The Session Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"759077888463135026"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"907785425416524528"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL442217472463772054"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-02-16T04:41:06.596Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>session_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
A unique Session identifier.</p>

<p><strong><code>client_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The requesting Client ID.</p>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Platform to which the requesting Client belongs.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The ISO 8601 timestamp when the Session was created.</p>
<h3 id='core-api-sessions-create-a-new-session'>Create a new Session</h3>
<blockquote>
<p>POST https://api.paket.tv/v1/sessions</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request POST 'https://api.paket.tv/v1/sessions' \
    --header 'Accept: application/json' \
    --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "session_id": "759077888463135026",</span>
<span class="s">  "client_id": "907785425416524528",</span>
<span class="s">  "platform_id": "PL442217472463772054",</span>
<span class="s">  "created_at": "2024-02-16T04:41:06.596Z"</span>
<span class="s">}</span>
</code></pre></div>
<p><strong>Returns</strong></p>

<p>Returns a status object.</p>
<h2 id='core-api-contexts'>Contexts</h2>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST https://api.paket.tv/v1/contexts
</code></pre></div>
<p>A Context is a unique identifier representing a Publisher or app&#39;s end user either at the account or profile level. Also referred to as a &quot;Participant,&quot; whether it is associated to the account or profile is, ultimately, up to the Publisher to determine. For optimal flexibility, however, a Context should be created and stored by a Publisher at the profile level.</p>

<p>Ideally, a Context should be indefinitely associated with an end-user&#39;s account or profile. So long as the Context ID persists, all items associated with the Context will remain active.</p>

<p>Generally, a Publisher interacts with a Platform by explicitly sharing the Context ID with a Platform and it being matched to an active Session.</p>
<h3 id='core-api-contexts-the-context-object'>The Context Object</h3>
<blockquote>
<p>The Context Object</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "context_id": "CX467798389036421120",
  "client_id": "f02d9e4750febfa4",
  "app_id": "AP463772054442217472",
  "created_at": "2024-02-16T04:41:06.596Z"
}
</code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>context_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The newly generated Context ID.</p>

<p><strong><code>client_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The requesting Client ID.</p>

<p><strong><code>app_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The App to which the requesting Client belongs.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The ISO 8601 timestamp when the Session was created.</p>
<h3 id='core-api-contexts-create-a-new-context'>Create a new Context</h3>
<blockquote>
<p>POST https://api.paket.tv/v1/contexts</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request POST 'https://api.paket.tv/v1/contexts' \
    --header 'Accept: application/json' \
    --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "context_id": "CX467798389036421120",</span>
<span class="s">  "client_id": "f02d9e4750febfa4",</span>
<span class="s">  "app_id": "AP463772054442217472",</span>
<span class="s">  "created_at": "2024-02-16T04:41:06.596Z"</span>
<span class="s">}</span>
</code></pre></div>
<p><strong>Parameters</strong></p>

<p>No parameters.</p>

<p><strong>Returns</strong></p>

<p>Returns a Context object.</p>
<h1 id='tv-as-a-service-api'>TV as a Service API</h1>
<p>Documentation for the TVaaS API is coming soon. </p>
<h1 id='upnext-api'>UpNext API</h1><h2 id='upnext-api-overview'>Overview</h2>
<p>The Paket UpNext API is a powerful connected TV (CTV) engagement tool through which Platforms and Publishers can offer users a consistent, highly personalized feed of their recently watched items, new content availability, watchlist items, and more. </p>

<p>While similar features currently exist across many best-in-class tv and OEM platforms, the resulting data is, invariably, inconsistent - and the means by which the data is retrieved are often varied, making it challenging for app developers to build and maintain such feature across an array of platforms. </p>

<p>The goal with the Paket UpNext API is to offer CTV Platforms and Publishers a platform-agnostic experience that is as consistent and reliable - across devices - as is currently available exclusively on identity-based, ecosystem-wide platforms such as Google TV and Apple TV.</p>

<p><strong>For Platforms</strong>, the UpNext API offers a timely snapshot of what a user is watching on any Paket-integrated service across any platorm or device. In addition to providing an aggregated view of a user&#39;s most relevant content, the data provided can be used to drive personalized recommendations, ads, and merchandising opportunities from within the Platform&#39;s native environment.</p>

<p><strong>For Publishers</strong>, the UpNext API ensures its highly relevant content is featured consistently across Paket-integrated tv platforms and within the context of a user&#39;s cross-device viewing - something that has proven to be a top driver of engagement on connected tvs. Further, a Publisher needs to integrate only once to have its users&#39; continue watching data syndicated to any Paket-integrated platform. Adding new Platforms is simply a matter of configuration from within the <a href="https://developer.paket.tv">Paket Developer Portal</a>.</p>
<h3 id='upnext-api-overview-the-list-object'>The List Object</h3>
<p>At the core of the UpNext API is the Session List object, which is an aggregated, chronological feed up UpNext items added by all Contexts attached to a Session. </p>

<p>For example, if Apps A, B, and C have shared their respective Context IDs with a Platform - and such Context IDs have been added to a Session - a request to <a href="#upnext-api-sessions-get-an-aggregated-list">this API endpoint</a> will return an aggregated, chronological list of items across all Apps attached to the Session. </p>

<p>An individual Context&#39;s feed (i.e., a specific App) can also be requested simply by calling the Session API along with the <a href="#upnext-api-sessions-get-a-specific-list">requested Context ID</a> included in the path parameters.</p>

<!-- ========================= -->

<!-- UPNEXT SESSION ATTRIBUTES -->

<!-- ========================= -->

<blockquote>
<p>The List Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">271</span><span class="p">,</span><span class="w">
  </span><span class="nl">"next_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>total</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
The total number of list items returned from request.</p>

<p><strong><code>next_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
The index of the next available item. Returned only if the <code>total</code> results exceeds the requested number of results.</p>

<p><strong><code>items</code></strong> <span style='margin: 0 5px;font-size:.9em'>array</span><br>
An array of <a href="#upnext-api-overview-the-list-item-object">list items</a>.</p>
<h3 id='upnext-api-overview-the-list-item-object'>The List Item Object</h3>
<blockquote>
<p>The List Item Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"content_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1iwousk12i008d9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP463772054442217472"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CX467798389036421120"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-20T19:02:28.285Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up_next_continue"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"media_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tv_episode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Colt"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeff ignores Lassie when Gramps brings home a new colt."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"season"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"episode"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"poster_art_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/thumb.png"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"poster_art_aspect_ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aspect_ratio_16_9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"preview_video_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/preview.m3u8"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">654</span><span class="p">,</span><span class="w">
  </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1308</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"platform_app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"internalAppId12345"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"app_media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"icon_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@1x.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"icon_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@2x.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"icon_3x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@3x.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tile_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/tile@1x.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tile_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/tile@2x.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo_dark_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/logo_dark@1x.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo_light_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/logo_light@1x.png"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>content_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier of the respective item. Typically, this is an internal identifier provided by the Publisher.</p>

<p><strong><code>app_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The App ID to which the item is associated.</p>

<p><strong><code>context_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Context ID to which the item is associated.</p>

<p><strong><code>updated_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The ISO 8601 timestamp when the item was created or last updated.</p>

<p><strong><code>action</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The item action, which can be one of the following enum values:</p>

<ul>
<li><code>up_next_continue</code></li>
<li><code>up_next_next</code></li>
<li><code>up_next_new</code></li>
<li><code>up_next_watchlist</code></li>
</ul>

<p><strong><code>media_type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The item&#39;s media type, which can be one of the following enum values:</p>

<ul>
<li><code>movie</code></li>
<li><code>tv_episode</code></li>
</ul>

<p><strong><code>title</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The title of the movie or TV show item.</p>

<p><strong><code>description</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The item description.</p>

<p><strong><code>season</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
The tv series season number. Returned only if item <code>media_type</code> is <code>tv_episode</code>.</p>

<p><strong><code>episode</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
The tv series episode number. Returned only if item <code>media_type</code> is <code>tv_episode</code>.</p>

<p><strong><code>poster_art_uri</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Uri of item&#39;s thumbnail image.</p>

<p><strong><code>poster_art_aspect_ratio</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Aspect ratio of media provided at <code>poster_art_uri</code>, which can be one of the following enum values:</p>

<ul>
<li><code>aspect_ratio_16_9</code></li>
<li><code>aspect_ratio_4_3</code></li>
<li><code>aspect_ratio_1_1</code></li>
<li><code>aspect_ratio_2_3</code></li>
</ul>

<p><strong><code>preview_video_uri</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Uri of item&#39;s preview video, if provided.</p>

<p><strong><code>position</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Last recorded position of media playback in seconds (returned if <code>action</code> is <code>up_next_continue</code>).</p>

<p><strong><code>duration</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Item&#39;s total running time in seconds.</p>

<p><strong><code>hidden</code></strong> <span style='margin: 0 5px;font-size:.9em'>boolean</span><br>
Indicates whether item is hidden or visible.</p>

<p><strong><code>platform_data</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Custom object containing <a href="#platform-data">custom attributes</a> provided by the requesting Platform in the form of key-value pairs.</p>

<p><strong><code>app_media</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Object containing URIs to app media provided by the integrated Publisher.</p>

<p>Media URIs are constructed using the following shchema: <code>&lt;base_url&gt;/media/&lt;app_id&gt;/&lt;file_name&gt;.png</code>. Media will return provided the respective file has been uploaded by the Publisher. Note: this can be reviewed and verified by the Platform via the UpNext API avails configuration in the <a href="https://developer.paket.tv">Paket Developer Portal</a>.</p>

<p>Below is a list of available keys and its respective <code>file_name</code>:</p>

<ul>
<li><code>icon_1x</code> corresponds to <code>icon@1x.png</code> (240x240, PNG)</li>
<li><code>icon_2x</code> corresponds to <code>icon@2x.png</code> (480x480, PNG)</li>
<li><code>icon_3x</code> corresponds to <code>icon@3x.png</code> (960x960, PNG)</li>
<li><code>tile_1x</code> corresponds to <code>tile@1x.png</code> (400x240, PNG)</li>
<li><code>tile_2x</code> corresponds to <code>tile@2x.png</code> (800x480, PNG)</li>
<li><code>logo_dark_1x</code> corresponds to <code>logo_dark@1x.png</code> (400x240, PNG, Transparency)</li>
<li><code>logo_light_1x</code> corresponds to <code>logo_light@1x.png</code> (400x240, PNG, Transpareny)</li>
</ul>

<aside class="notice">
The <span style="font-family:monospace;font-size:.9em;font-weight:bolder">platform_data</span> and <span style="font-family:monospace;font-size:.9em;font-weight:bolder">app_media</span> objects are returned only via the Sessions endpoint.
</aside>
<h3 id='upnext-api-overview-the-session-context-object'>The Session Context Object</h3>
<p>The Session Context Object is created when a Participant&#39;s <code>context_id</code> is added to a Session or when requesting a list of all Parcticipants associated with an active Session. It contains useful information related to a Participant&#39;s relationship to a Session.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SN759077888463135026"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CX463135026759077888"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP463772054442217472"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-02-16T04:41:06.596Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>app_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Publisher&#39;s App ID to which the <code>context_id</code> belongs.</p>

<p><strong><code>context_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The app user&#39;s (or &quot;Participant&quot;) unique Context identifier.</p>

<p><strong><code>session_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The ISO 8601 timestamp when the Session was created.</p>
<h3 id='upnext-api-overview-platform-upnext-flow'>Platform UpNext Flow</h3>
<p>Before beginning, Platform partners should familiarize themselves with the <a href="#sessions">Sessions</a> object. Additionally, Platforms should leverage the <code>platform_data</code> configuration as described in the <a href="#platform-data">Platform Data</a> section of the documentation.</p>

<p>The diagram below is an overview of how Platform Clients interact with the Paket UpNext API. </p>

<aside class="notice">Please note that the Platform must provide a means for a Publisher's app to communicate the Paket Context ID to the Platform Client. Typically, this is achieved via the Platform SDK.</aside>

<p><img src="images/paket_upnext_seq_dia_platforms-4cebbd11.jpg" alt="Platform Sequence Diagram" /></p>
<h3 id='upnext-api-overview-publisher-upnext-flow'>Publisher UpNext Flow</h3>
<p>Before beginning, Publisher partners should familiarize themselves with the <a href="#contexts">Contexts</a> object.</p>

<p>The diagram below is an overview of how Publisher Clients interact with the Paket UpNext API. </p>

<aside class="notice">Please note that the Publisher must be able to communicate the Paket Context ID to the Platform Client. Typically, this is achieved via the Platform SDK.</aside>

<p><img src="images/paket_upnext_seq_dia_publishers-e90e4aa7.jpg" alt="Publisher Sequence Diagram" /></p>
<h2 id='upnext-api-sessions'>Sessions</h2>
<p>Sessions are the primary means by which Platforms interact with the Paket UpNext API. </p>

<p>It is through this API that Platforms can: </p>

<ul>
<li>Add or remove Contexts to a Session</li>
<li>Fetch an aggregated UpNext list </li>
<li>Fetch a specific Context&#39;s UpNext list</li>
<li>Fetch a list of a Session&#39;s Contexts</li>
<li>Hide items from a list</li>
<li>Remove an existing Session</li>
</ul>
<h3 id='upnext-api-sessions-add-a-context'>Add a Context</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>PUT https://api.paket.tv/v1/sessions/upnext/:session_id
</code></pre></div>
<p>Adds or updates a Context to an active Session.</p>

<blockquote>
<p>PUT https://api.paket.tv/v1/sessions/upnext/:session_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request PUT 'https://api.paket.tv/v1/sessions/upnext/:session_id' \
  --header 'Content-Type: application/json' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;' \
  --data '{
    "app_id": "fe4a9ed381e8e376",
    "context_id": "6e5060c3-7df4-488e-9e9a-67cd5077b352"
  }'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SN759077888463135026"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CX463135026759077888"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP463772054442217472"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-02-16T04:41:06.596Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong>Request Body</strong></p>

<p><strong><code>app_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Publisher&#39;s App ID to which the Context being added belongs.</p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Context ID to be added to the Session.</p>

<p><strong>Returns</strong></p>

<p>Returns a <a href="#upnext-api-overview-the-session-context-object">Session Context Object</a>.</p>
<h3 id='upnext-api-sessions-remove-a-context'>Remove a Context</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>DELETE https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id
</code></pre></div>
<p>Removes a Context from an active Session.</p>

<blockquote>
<p>DELETE https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request DELETE 'https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The app user&#39;s (or &quot;Participant&quot;) unique Context identifier.</p>

<p><strong>Returns</strong></p>

<p>Returns a <code>204</code> No Content response.</p>
<h3 id='upnext-api-sessions-get-an-aggregated-list'>Get an Aggregated List</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/sessions/upnext/:session_id
</code></pre></div>
<p>Retrieves aggregated Session list from all registered Contexts.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/sessions/upnext/:session_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/sessions/upnext/:session_id' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">271</span><span class="p">,</span><span class="w">
  </span><span class="nl">"next_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"content_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1iwousk12i008d9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df79418d4e6d5325"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b0af623-2923-4997-92a6-73f94bbe321e"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-20T19:02:28.285Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up_next_continue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"media_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tv_episode"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Colt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeff ignores Lassie when Gramps brings home a new colt."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"season"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"episode"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"poster_art_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/thumb.png"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"poster_art_aspect_ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aspect_ratio_16_9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"preview_video_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/preview.m3u8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">654</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1308</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"platform_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"platform_app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"internalAppId12345"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"app_media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"icon_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@1x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"icon_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@2x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"icon_3x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@3x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tile_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/tile@1x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tile_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/tile@2x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo_dark_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/logo_dark@1x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo_light_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/logo_light@1x.png"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Limits items returned (default is <code>50</code>, maximum is <code>200</code>).</p>

<p><strong><code>next_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Key returned in previous call if <a href="#pagination">additional items</a> are available.</p>

<p><strong>Returns</strong></p>

<p>Returns a <a href="#upnext-api-overview-the-list-object">List Object</a> containing an array of <a href="#upnext-api-overview-the-list-item-object">List Item Objects</a>.</p>
<h3 id='upnext-api-sessions-get-a-specific-list'>Get a Specific List</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id
</code></pre></div>
<p>Retrieves the Session list of a specified Context.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">271</span><span class="p">,</span><span class="w">
  </span><span class="nl">"next_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"content_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1iwousk12i008d9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df79418d4e6d5325"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b0af623-2923-4997-92a6-73f94bbe321e"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-20T19:02:28.285Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up_next_continue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"media_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tv_episode"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Colt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeff ignores Lassie when Gramps brings home a new colt."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"season"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"episode"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"poster_art_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/thumb.png"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"poster_art_aspect_ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aspect_ratio_16_9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"preview_video_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/preview.m3u8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">654</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1308</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"platform_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"platform_app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"internalAppId12345"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"app_media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"icon_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@1x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"icon_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@2x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"icon_3x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/icon@3x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tile_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/tile@1x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tile_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/tile@2x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo_dark_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/logo_dark@1x.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo_light_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/df79418d4e6d5325/logo_light@1x.png"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The app user&#39;s (or &quot;Participant&quot;) unique Context identifier.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Limits items returned (default is <code>50</code>, maximum is <code>200</code>).</p>

<p><strong><code>next_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Key returned in previous call if <a href="#pagination">additional items</a> are available.</p>

<p><strong>Returns</strong></p>

<p>Returns a <a href="#upnext-api-overview-the-list-object">List Object</a> containing an array of <a href="#upnext-api-overview-the-list-item-object">List Item Objects</a>.</p>
<h3 id='upnext-api-sessions-get-session-contexts'>Get Session Contexts</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/sessions/upnext/:session_id/contexts
</code></pre></div>
<p>Retrieves a list of all Context&#39;s associated with a Session.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/sessions/upnext/:session_id/contexts</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/sessions/upnext/:session_id/contexts' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nl">"next_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SN759077888463135026"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b0af623-2923-4997-92a6-73f94bbe321e"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df79418d4e6d5325"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-23T23:38:50.303Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Limits items returned (default and maximum is <code>50</code>).</p>

<p><strong><code>next_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Key returned in previous call if <a href="#pagination">additional items</a> are available.</p>

<p><strong>Returns</strong></p>

<p>Returns a <a href="#upnext-api-overview-the-list-object">List Object</a> containing an array of <a href="#upnext-api-overview-the-session-contexts-object">Session Contexts Objects</a>.</p>
<h3 id='upnext-api-sessions-hide-an-item-in-a-list'>Hide an Item in a List</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>PUT https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id
</code></pre></div>
<blockquote>
<p>PUT https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request PUT 'https://api.paket.tv/v1/sessions/upnext/:session_id/:context_id' \
  --header 'Content-Type: application/json' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;' \
  --data '{
    "content_id": "1iwousk12i008d9",
    "action": "hide"
  }'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If hiding list items is supported within a Platform&#39;s user interface, this action allows the Platform to set the <code>hidden</code> parameter of a list item to <code>true</code>. Once the action is completed, an <code>item_hidden</code> notification is delivered to the Publisher&#39;s webhook endpoint.</p>

<p>While it is up to the Publisher to decide whether or not to remove the item from the Context&#39;s list, the item will remain hidden within the <a href="#upnext-api-overview-the-list-item-object">List Item Object</a> unless the <code>hidden</code> attribute is set to <code>false</code> by a Publisher action.</p>

<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The app user&#39;s (or &quot;Participant&quot;) unique Context identifier.</p>

<p><strong>Request Body</strong></p>

<p><strong><code>content_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The content ID of the item to be hidden.</p>

<p><strong><code>action</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The hide action, which can be one of the following enum values: </p>

<ul>
<li><code>hide</code></li>
<li><code>unhide</code></li>
</ul>

<p><strong>Returns</strong></p>

<p>Returns a <code>200</code> Success response.</p>
<h3 id='upnext-api-sessions-remove-a-session'>Remove a Session</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>DELETE https://api.paket.tv/v1/sessions/upnext/:session_id
</code></pre></div>
<blockquote>
<p>DELETE https://api.paket.tv/v1/sessions/upnext/:session_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request DELETE 'https://api.paket.tv/v1/sessions/upnext/:session_id' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Deletes a Session and all Context associations.</p>

<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform user&#39;s unique Session identifier.</p>

<p><strong>Returns</strong></p>

<p>Returns a <code>204</code> No Content response.</p>
<h2 id='upnext-api-contexts'>Contexts</h2>
<p>Contexts are the primary means by which Publishers interact with the Paket UpNext API. </p>

<p>It is through this API that Publishers can: </p>

<ul>
<li>Add or remove items from a Context&#39;s list</li>
<li>Fetch a specific Context&#39;s UpNext list</li>
<li>Remove a Context&#39;s Sessions</li>
</ul>
<h3 id='upnext-api-contexts-publisher-guidelines'>Publisher Guidelines</h3>
<p>It is likely that most Publishers who will be integrating with the Paket UpNext API will have an existing back-end service dedicated to making continue watching, new episodes, and related requests. In such cases - and to ensure as consistent a user experience as possible - it is recommended that such partners post data to the UpNext API in a way that is consistent with its existing guidelines and best practices.</p>

<p>For those Publishers who will be integrating exclusively with the Paket API, please refer to the following guidelines as to when items should be added to a Context&#39;s UpNext List.</p>

<p><strong>When to add an item to the UpNext List</strong></p>

<p>Please determine whether or not to add an <code>up_next_continue</code> item if:</p>

<ul>
<li>The user exits an app client during playback</li>
<li>The user pauses or stops playback of a media item for more than five (5) minutes</li>
</ul>

<p><strong>Including unfinished movies and TV shows</strong></p>

<p>Please add an <code>up_next_continue</code> item if:</p>

<ul>
<li>A movie or TV show is started and the user has watched more than two (2) minutes; or</li>
<li>A movie or TV show is is started and the user has watched more that 3% of its total duration (whichever is earlier)</li>
</ul>

<p><strong>Including new and next episode from a tv series</strong></p>

<ul>
<li>Please add an <code>up_next_next</code> item if a user finishes an episode in a series and the next episode is available on your service</li>
<li>Please add an <code>up_next_new</code> item if a user is caught up on all available episodes of a tv series and a new season or episode becomes availables</li>
<li>Please add an <code>up_next_watchlist</code> item if an item in a user&#39;s watchlist was previously unavailable but has since been made available to watch on the service </li>
</ul>

<p><strong>Remove finished items from the UpNext List</strong></p>

<ul>
<li>A media item is considered &#39;finished&#39; when the end credits begin</li>
<li>If the end credits cannot be determined, a media item is considered &#39;finished&#39; when 3% or less the total duration of the media is remaining to be watched</li>
</ul>
<h3 id='upnext-api-contexts-add-item-to-list'>Add Item to List</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>PUT https://api.paket.tv/v1/contexts/upnext/:context_id
</code></pre></div>
<blockquote>
<p>PUT https://api.paket.tv/v1/contexts/upnext/:context_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request PUT 'https://api.paket.tv/v1/contexts/upnext/:context_id' \
  --header 'Content-Type: application/json' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;' \
  --data '{
    "action": "up_next_continue",
    "media_type": "tv_episode",
    "content_id": "1iwousk12i008d9",
    "title": "The Colt",
    "poster_art_uri": "https://media.paket.tv/1iwousk12i008d9/thumb.png",
    "poster_art_aspect_ratio": "aspect_ratio_16_9",
    "description": "Jeff ignores Lassie when Gramps brings home a new colt.",
    "season": 1,
    "episode": 3,
    "preview_video_uri": "https://media.paket.tv/1iwousk12i008d9/preview.m3u8",
    "position": 654,
    "duration": 1308,
    "hidden": false
  }'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Adds or updates an Item to the Context list. Please refer to the UpNext <a href="#upnext-api-contexts-guidelines">Guidelines</a> to learn more about how to determine when to add an Item to the Context&#39;s list.</p>

<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Context ID to which the List belongs.</p>

<p><strong>Request Body</strong></p>

<p><strong><code>content_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The content ID of the item being added. Typically, this is an internal identifier provided by the Publisher.</p>

<p><strong><code>media_type</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The item&#39;s media type, which can be one of the following enum values:</p>

<ul>
<li><code>movie</code></li>
<li><code>tv_episode</code></li>
</ul>

<p><strong><code>action</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The item action, which can be one of the following enum values:</p>

<ul>
<li><code>up_next_continue</code></li>
<li><code>up_next_next</code></li>
<li><code>up_next_new</code></li>
<li><code>up_next_watchlist</code></li>
</ul>

<p><strong><code>title</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The title of the movie or TV show item.</p>

<p><strong><code>description</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The item description.</p>

<p><strong><code>poster_art_uri</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Uri of item&#39;s thumbnail image.</p>

<p><strong><code>poster_art_aspect_ratio</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Aspect ratio of media provided at <code>poster_art_uri</code>, which can be one of the following enum values:</p>

<ul>
<li><code>aspect_ratio_16_9</code></li>
<li><code>aspect_ratio_4_3</code></li>
<li><code>aspect_ratio_1_1</code></li>
<li><code>aspect_ratio_2_3</code></li>
</ul>

<p><strong><code>season</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
The tv series season number. Required only if item <code>media_type</code> is <code>tv_episode</code>.</p>

<p><strong><code>episode</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
The tv series episode number. Required only if item <code>media_type</code> is <code>tv_episode</code>.</p>

<p><strong><code>preview_video_uri</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Uri of item&#39;s preview video, if provided.</p>

<p><strong><code>position</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Last recorded position of media playback in seconds (required if <code>action</code> is <code>up_next_continue</code>).</p>

<p><strong><code>duration</code></strong>* <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Item&#39;s total running time in seconds.</p>

<p><strong><code>hidden</code></strong> <span style='margin: 0 5px;font-size:.9em'>boolean</span><br>
Indicates whether item is hidden or visible.</p>

<p><strong>Returns</strong></p>

<p>Returns a <code>200</code> Success response.</p>
<h3 id='upnext-api-contexts-remove-item-from-list'>Remove Item from List</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>DELETE https://api.paket.tv/v1/contexts/upnext/:context_id/:content_id
</code></pre></div>
<blockquote>
<p>DELETE https://api.paket.tv/v1/contexts/upnext/:context_id/:content_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request DELETE 'https://api.paket.tv/v1/contexts/upnext/:context_id/:content_id' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Removes an Item from the Context&#39;s list.</p>

<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Context ID to which the List belongs.</p>

<p><strong><code>content_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Content ID of the item being added. Typically, this is an internal identifier provided by the Publisher.</p>

<p><strong>Returns</strong></p>

<p>Returns a <code>204</code> No Content response.</p>
<h3 id='upnext-api-contexts-get-a-context-39-s-list'>Get a Context&#39;s List</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/contexts/upnext/:context_id
</code></pre></div>
<p>Retrieves the list of a specified Context.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/contexts/upnext/:context_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/contexts/upnext/:context_id' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">271</span><span class="p">,</span><span class="w">
  </span><span class="nl">"next_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"content_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1iwousk12i008d9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df79418d4e6d5325"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b0af623-2923-4997-92a6-73f94bbe321e"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-20T19:02:28.285Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up_next_continue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"media_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tv_episode"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Colt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeff ignores Lassie when Gramps brings home a new colt."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"season"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"episode"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"poster_art_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/thumb.png"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"poster_art_aspect_ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aspect_ratio_16_9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"preview_video_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/1iwousk12i008d9/preview.m3u8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">654</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1308</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Context ID to which the List belongs.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Limits items returned (default is <code>50</code>, maximum is <code>200</code>).</p>

<p><strong><code>next_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Key returned in previous call if <a href="#pagination">additional items</a> are available.</p>

<p><strong>Returns</strong></p>

<p>Returns a <a href="#upnext-api-overview-the-list-object">List Object</a> containing an array of <a href="#upnext-api-overview-the-list-item-object">List Item Objects</a>.</p>

<aside class="notice">
The <span style="font-family:monospace;font-size:.9em;font-weight:bolder">platform_data</span> object is returned only via the Sessions endpoint and will not be included in the response to this request.
</aside>
<h3 id='upnext-api-contexts-remove-context-39-s-sessions'>Remove Context&#39;s Sessions</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>DELETE https://api-dev.paket.tv/v1/contexts/upnext/:context_id/sessions
</code></pre></div>
<p>Removes all sessions associated with a Context.</p>

<blockquote>
<p>DELETE https://api-dev.paket.tv/v1/contexts/upnext/:context_id/sessions</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request DELETE 'https://api.paket.tv/v1/contexts/upnext/:context_id/sessions' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>context_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Context ID to which the Sessions are associated.</p>

<p><strong>Returns</strong></p>

<p>Returns a <code>204</code> No Content response.</p>
<h1 id='bento-api'>Bento API</h1><h2 id='bento-api-overview'>Overview</h2>
<p>The Paket Bento API is a license and subscription orchestration service that enables Platforms and Publishers to offer comprehensive subscription bundles through a unified catalog via their native billing and identity systems. This API provides access to curated plan offerings, subscription management, and invoice management capabilities that power the Paket subscription marketplace.</p>

<p><strong>For Platforms</strong>, the Bundle API offers a seamless way to integrate third-party subscription services into their ecosystem, providing users with bundled offerings that combine multiple streaming services, apps, and digital content into single, manageable subscriptions.</p>

<p><strong>For Publishers</strong>, the Bundle API ensures consistent subscription management across all Paket-integrated platforms, with unified billing, activation workflows, and revenue distribution handled automatically through the Paket infrastructure.</p>

<p>To get started, a Publisher must first configure their service via the Paket Publisher Portal. There, Publishers will be able to set up webhook endpoints, security, and API clients through which the service will communicate with the Paket service. It is in the Publisher Portal where Publishers will be able to set up product licenses and assign them for sale through approved Platform partners.</p>

<p>It is also in the Paket Publisher Portal where Platforms will configure API clients and configure plans and bundles for sale via the Paket API. </p>
<h3 id='bento-api-overview-the-plan-object'>The Plan Object</h3>
<p>At the core of the Bundle API is the Plan object, which defines subscription offerings with comprehensive pricing, billing cycles, and bundled services configuration.</p>

<blockquote>
<p>The Plan Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"plan_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"427944e5ba9e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+, Hulu, HBO Max Bundle"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"plan_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_bundle"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL468440696748511232"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="p">,</span><span class="w"> </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"free_trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"grace_period_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"promo_4k_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/plans/PL468440696748511232/427944e5ba9e/promo_4k@1x.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"promo_2k_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/plans/PL468440696748511232/427944e5ba9e/promo_2k@1x.png"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"US"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billing_cycles"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"price_in_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tier_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"localizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"en-us"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The bundle with everything you need"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+, Hulu, HBO Max Bundle"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"plan_items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price_wholesale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.56</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price_in_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+ Basic"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP468442205989113856"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR469716925099413504"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"localizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"en-us"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+ Basic With Ads"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+ Basic"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"US"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"price_in_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tier_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP468442205989113856"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"icon_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/apps/AP468442205989113856/icon@1x.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"icon_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/apps/AP468442205989113856/icon@2x.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"icon_3x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/apps/AP468442205989113856/icon@3x.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"logo_dark_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/apps/AP468442205989113856/logo_dark@1x.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"logo_light_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/apps/AP468442205989113856/logo_light@1x.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tile_1x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/apps/AP468442205989113856/tile@1x.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tile_2x"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://media.paket.tv/media/apps/AP468442205989113856/tile@2x.png"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-15T10:30:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-17T07:28:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>plan_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier for the plan.</p>

<p><strong><code>name</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The internal name of the plan.</p>

<p><strong><code>plan_type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The type of plan, which can be one of the following enum values:</p>

<ul>
<li><code>sub_bundle</code> - Multiple subscription services bundled together</li>
<li><code>sub_single</code> - Single subscription service</li>
</ul>

<p><strong><code>status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The current status of the plan:</p>

<ul>
<li><code>active</code> - Available for new subscriptions</li>
<li><code>inactive</code> - Not available for new subscriptions</li>
<li><code>deprecated</code> - Being phased out</li>
</ul>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform identifier associated with this plan.</p>

<p><strong><code>free_trial_days</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Number of free trial days offered (0 if no trial).</p>

<p><strong><code>grace_period_days</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Number of days after payment failure before subscription suspension.</p>

<p><strong><code>billing_frequency</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
The billing cycle configuration with <code>unit</code> (month, year) and <code>value</code> (1, 3, 6, 12).</p>

<p><strong><code>media</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
URLs to promotional media assets for the plan:</p>

<ul>
<li><code>promo_4k_1x</code> - 4K promotional image</li>
<li><code>promo_2k_1x</code> - 2K promotional image</li>
</ul>

<p><strong><code>prices</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Regional pricing information organized by country code. Each region contains an array of pricing phases with:</p>

<ul>
<li><code>order</code> - The sequence order of the pricing phase</li>
<li><code>billing_cycles</code> - Number of cycles this price applies to (omitted if null or indefinite)</li>
<li><code>price</code> - Price object containing:

<ul>
<li><code>price_in_cents</code> - Price in cents as a integer</li>
<li><code>tier_id</code> - Pricing tier identifier</li>
<li><code>currency_code</code> - Three-letter ISO currency code</li>
<li><code>price</code> - Price as a decimal</li>
</ul></li>
</ul>

<p><strong><code>localizations</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Localized content organized by language code (e.g., &quot;en-us&quot;). Each localization contains:</p>

<ul>
<li><code>description</code> - Localized description of the plan</li>
<li><code>display_name</code> - Localized display name for the plan</li>
</ul>

<p><strong><code>plan_items</code></strong> <span style='margin: 0 5px;font-size:.9em'>array</span><br>
Array of products or entitlements included in the plan. Each item contains:</p>

<ul>
<li><code>status</code> - Item status (active/inactive)</li>
<li><code>price_wholesale</code> - Wholesale pricing information with price, price_in_cents, and currency_code</li>
<li><code>name</code> - Internal name of the product</li>
<li><code>app_id</code> - Associated app identifier</li>
<li><code>product_id</code> - Unique product identifier</li>
<li><code>localizations</code> - Localized content for the product (description and display_name)</li>
<li><code>prices</code> - Regional retail pricing by country</li>
<li><code>app</code> - App object containing:

<ul>
<li><code>id</code> - App identifier</li>
<li><code>name</code> - App name</li>
<li><code>media</code> - App media assets (icons, logos, tiles)</li>
<li><code>status</code> - App status (live/inactive)</li>
</ul></li>
</ul>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the plan was created.</p>

<p><strong><code>updated_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the plan was last updated.</p>
<h3 id='bento-api-overview-the-subscription-object'>The Subscription Object</h3>
<p>The Subscription object represents an active or inactive Subscription to a Plan, tracking billing cycles, payment status, and activation state.</p>

<blockquote>
<p>The Subscription Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB479027832035610624"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SN468560588960960512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"plan_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"427944e5ba9e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL468440696748511232"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"activation_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payment_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"next_billing_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-14T20:45:35.064Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="p">,</span><span class="w"> </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cycle_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_phase_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4282b4cfac23dc38"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"grace_period_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"grace_period_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-21T20:45:35.064Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-21T20:45:35.064Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T20:45:35.065Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-14T20:45:35.064Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"tax"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0875</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sales_tax"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"jurisdiction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA-Los Angeles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exclusive"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+, Hulu, HBO Max Bundle"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_bundle"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"cancellation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cancel_at_period_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payment_method_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pm_123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"proration_credit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"device_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"created_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75.85.168.125"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75.85.168.125"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T20:45:35.065Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T21:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>subscription_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier for the subscription (prefixed with SUB).</p>

<p><strong><code>session_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The session identifier associated with this subscription.</p>

<p><strong><code>plan_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The plan identifier this subscription is for.</p>

<p><strong><code>plan_name</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The plan name.</p>

<p><strong><code>plan_type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The plan type, one of:</p>

<ul>
<li><code>sub_bundle</code> - Plan with multiple associated products</li>
<li><code>sub_single</code> - Plan with a single associated product</li>
</ul>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform identifier issuing the plan.</p>

<p><strong><code>status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Current subscription status:</p>

<ul>
<li><code>trialing</code> - In free trial period</li>
<li><code>active</code> - Active and paid</li>
<li><code>past_due</code> - Payment failed but in grace period</li>
<li><code>canceled</code> - Canceled by user</li>
<li><code>unpaid</code> - Payment required</li>
<li><code>paused</code> - Temporarily paused</li>
</ul>

<p><strong><code>activation_status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Publisher activation status:</p>

<ul>
<li><code>pending</code> - Awaiting activation</li>
<li><code>partial</code> - Partially activated (some services activated but not all)</li>
<li><code>completed</code> - Successfully activated</li>
<li><code>failed</code> - Activation failed</li>
</ul>

<p><strong><code>payment_status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Current payment status:</p>

<ul>
<li><code>paid</code> - Fully paid</li>
<li><code>unpaid</code> - Payment pending</li>
<li><code>scheduled</code> - Payment scheduled</li>
<li><code>no_payment_required</code> - Free or trial period</li>
<li><code>processing</code> - Payment in progress</li>
<li><code>failed</code> - Payment failed</li>
<li><code>canceled</code> - Payment canceled</li>
</ul>

<p><strong><code>next_billing_date</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp of the next billing date.</p>

<p><strong><code>current_period_start</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp of the current billing period start.</p>

<p><strong><code>current_period_end</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp of the current billing period end.</p>

<p><strong><code>current_phase_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The current phase price identifier.</p>

<p><strong><code>billing_cycle_count</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Total number of completed billing cycles.</p>

<p><strong><code>free_trial_days</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Days included in free trial, if any.</p>

<p><strong><code>trial_end</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp of the current trial period end.</p>

<p><strong><code>grace_period_days</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Grace period during which subscription will remain active after failed payment.</p>

<p><strong><code>grace_period_end</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp of the current grace period end.</p>

<p><strong><code>billing_interval_days</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Billing interval in days.</p>

<p><strong><code>billing_frequency</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Billing interval configuration.</p>

<ul>
<li><code>unit</code> <span style='margin: 0 5px;font-size:.9em'>string</span> - Time unit. Values: <code>&quot;month&quot;</code>, <code>&quot;day&quot;</code>, <code>&quot;year&quot;</code></li>
<li><code>value</code> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Number of units between billing cycles</li>
</ul>

<p><strong><code>tax_behavior</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Specifies whether tax should be collected and how:</p>

<ul>
<li><code>inclusive</code> - Tax will be included in plan price</li>
<li><code>exclusive</code> - Tax will be added to plan price</li>
<li><code>none</code> - Plan is not taxable</li>
</ul>

<p><strong><code>tax_rate</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Applied tax rate (0-1, e.g., 0.0875 for 8.75%).</p>

<p><strong><code>tax_type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Type of tax applied:</p>

<ul>
<li><code>sales_tax</code></li>
<li><code>vat</code></li>
<li><code>gst</code></li>
<li><code>pst</code></li>
<li><code>hst</code></li>
<li><code>none</code></li>
</ul>

<p><strong><code>tax_jurisdiction</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Jurisdiction governing the applied tax.</p>

<p><strong><code>tax_note</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Additional notes pertaining to the subscription tax.</p>

<p><strong><code>payment_method_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Payment method identifier used for this subscription.</p>

<p><strong><code>activation_url</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
URL provided by the publisher for activating bundled services.</p>

<p><strong><code>activation_token</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Token used for activation process with the publisher.</p>

<p><strong><code>metadata</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Additional custom metadata for the subscription.</p>

<p><strong><code>device_info</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Additional device metadata for the subscription.</p>

<p><strong><code>replaced_subscription_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Identifier of replaced subscription, if an upgrade or downgrade.</p>

<p><strong><code>change_type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Reason for change of subscription:</p>

<ul>
<li><code>upgrade</code></li>
<li><code>downgrade</code></li>
<li><code>reactivation</code></li>
</ul>

<p><strong><code>proration_credit</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Amount to credit or add to first invoice if mid-cycle upgrade or downgrade.</p>

<p><strong><code>cancel_at_period_end</code></strong> <span style='margin: 0 5px;font-size:.9em'>boolean</span><br>
Whether to cancel subscription at end of current period.</p>

<p><strong><code>canceled_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp of date on which subscription was canceled.</p>

<p><strong><code>ended_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp of the subscription end date.</p>

<p><strong><code>created_ip</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The IP address from where the subscription was created.</p>

<p><strong><code>updated_ip</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The IP address from where subscription was last updated.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the subscription was created.</p>

<p><strong><code>updated_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the subscription was last updated.</p>
<h3 id='bento-api-overview-the-invoice-object'>The Invoice Object</h3>
<p>The Invoice object represents a billing statement for a subscription period, tracking amounts, payment status, and retry logic.</p>

<blockquote>
<p>The Invoice Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INV479027832278880256"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoice_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INV-2025-78880256"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB479027832035610624"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL468440696748511232"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payment_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amounts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699</span><span class="p">,</span><span class="w">
    </span><span class="nl">"proration_credit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">149</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1848</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount_due"</span><span class="p">:</span><span class="w"> </span><span class="mi">1848</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount_paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"tax"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0875</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sales_tax"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"jurisdiction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA-Los Angeles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"behavior"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exclusive"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"method_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delay_minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"plan_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"427944e5ba9e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+, Hulu, HBO Max Bundle"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phase_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4282b4cfac23dc38"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phase_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"billing_cycle"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"platform_fee_rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03</span><span class="p">,</span><span class="w">
    </span><span class="nl">"platform_fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">51</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T20:45:35.065Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-14T20:45:35.064Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoice_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T20:45:35.122Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-13T20:45:35.122Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"created_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T20:45:35.122Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T20:45:35.122Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>
<h4 id='bento-api-overview-the-invoice-object-core-fields'>Core Fields</h4>
<p><strong><code>invoice_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier for the invoice (prefixed with INV).</p>

<p><strong><code>invoice_number</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Human-readable invoice number.</p>

<p><strong><code>subscription_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription this invoice belongs to.</p>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform identifier that created the subscription.</p>

<p><strong><code>session_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The session identifier associated with this invoice&#39;s subscription.</p>

<p><strong><code>status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Invoice status:
- <code>open</code> - Awaiting payment
- <code>paid</code> - Fully paid
- <code>draft</code> - Not yet finalized</p>

<p><strong><code>payment_status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Payment collection status:
- <code>unpaid</code> - Not yet paid
- <code>paid</code> - Successfully paid
- <code>failed</code> - Payment failed
- <code>processing</code> - Payment in progress
- <code>canceled</code> - Payment canceled
- <code>scheduled</code> - Payment scheduled for future date
- <code>no_payment_required</code> - No payment needed (e.g., free trial)</p>

<p><strong><code>currency</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Three-letter ISO currency code.</p>

<p><strong><code>region</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Region code for pricing (e.g., &quot;US&quot;).</p>
<h4 id='bento-api-overview-the-invoice-object-amounts-object'>Amounts Object</h4>
<p><strong><code>amounts</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Grouped financial amounts:</p>

<ul>
<li><strong><code>subtotal</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Pre-tax amount in cents</li>
<li><strong><code>proration_credit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Proration credit applied in cents</li>
<li><strong><code>tax_amount</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Tax amount in cents</li>
<li><strong><code>total_amount</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Total amount including tax in cents</li>
<li><strong><code>amount_due</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Amount currently due in cents</li>
<li><strong><code>amount_paid</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Amount already paid in cents</li>
</ul>
<h4 id='bento-api-overview-the-invoice-object-tax-object'>Tax Object</h4>
<p><strong><code>tax</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Grouped tax information:</p>

<ul>
<li><strong><code>rate</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span> - Applied tax rate (0-1, e.g., 0.0875 for 8.75%)</li>
<li><strong><code>type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Type of tax (<code>sales_tax</code>, <code>vat</code>, <code>gst</code>, <code>pst</code>, <code>hst</code>, <code>none</code>)</li>
<li><strong><code>jurisdiction</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Tax jurisdiction code (e.g., &quot;CA-Los Angeles&quot;)</li>
<li><strong><code>behavior</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Tax collection behavior (<code>inclusive</code>, <code>exclusive</code>, <code>none</code>)</li>
<li><strong><code>note</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Additional tax notes</li>
</ul>
<h4 id='bento-api-overview-the-invoice-object-payment-object'>Payment Object</h4>
<p><strong><code>payment</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Payment information (only present if payment has been attempted):</p>

<ul>
<li><strong><code>method_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Payment method identifier</li>
<li><strong><code>intent_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Payment processor intent ID</li>
<li><strong><code>date</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - ISO 8601 timestamp of payment</li>
</ul>
<h4 id='bento-api-overview-the-invoice-object-retries-object'>Retries Object</h4>
<p><strong><code>retries</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Payment retry information (only present if retries have been attempted):</p>

<ul>
<li><strong><code>count</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Number of retry attempts made</li>
<li><strong><code>max</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Maximum retries allowed</li>
<li><strong><code>next_date</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - ISO 8601 timestamp of next retry</li>
<li><strong><code>last_date</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - ISO 8601 timestamp of last retry</li>
<li><strong><code>delay_minutes</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Delay before next retry</li>
</ul>
<h4 id='bento-api-overview-the-invoice-object-plan-object'>Plan Object</h4>
<p><strong><code>plan</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Plan and pricing information:</p>

<ul>
<li><strong><code>plan_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Plan identifier</li>
<li><strong><code>name</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Display name of the plan</li>
<li><strong><code>type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Plan type (e.g., &quot;recurring&quot;)</li>
<li><strong><code>phase_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - Active phase identifier</li>
<li><strong><code>phase_order</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span> - Phase order number (1-based)</li>
<li><strong><code>billing_cycle</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span> - Billing cycle number (0=trial, 1+=paid)</li>
<li><strong><code>platform_fee_rate</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span> - Platform fee rate (0-1)</li>
<li><strong><code>platform_fee_amount</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span> - Platform fee in cents</li>
</ul>
<h4 id='bento-api-overview-the-invoice-object-period-object'>Period Object</h4>
<p><strong><code>period</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Billing period dates:</p>

<ul>
<li><strong><code>start</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - ISO 8601 start of billing period</li>
<li><strong><code>end</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - ISO 8601 end of billing period</li>
<li><strong><code>invoice_date</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - ISO 8601 invoice creation date</li>
<li><strong><code>due_date</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span> - ISO 8601 payment due date</li>
</ul>

<p><strong><code>metadata</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Custom metadata key-value pairs.</p>

<p><strong><code>created_ip</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
IP address from which the invoice was created.</p>

<p><strong><code>updated_ip</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
IP address from which the invoice was last updated.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the invoice was created.</p>

<p><strong><code>updated_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the invoice was last updated.</p>

<p><strong><code>platform_fee_amount</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Platform fee amount in cents.</p>

<p><strong><code>metadata</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Additional metadata associated with the invoice.</p>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform identifier that created this invoice&#39;s subscription.</p>

<p><strong><code>created_ip</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
IP address from which the invoice was created.</p>

<p><strong><code>updated_ip</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
IP address from which the invoice was last updated.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the invoice was created.</p>

<p><strong><code>updated_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the invoice was last updated.</p>
<h3 id='bento-api-overview-the-payment-object'>The Payment Object</h3>
<p>The Payment object represents an immutable payment attempt record for an invoice, providing a complete audit trail of all payment processing activities. Please note that Paket does not natively process payments, rather it is a store of a payment attempts made via a Platform&#39;s PSP. As such, it is encumbant on the Platform processing a payment to post payment responsese to this API to ensure an immutable audit trail of payment attemps exists for each Invoice</p>

<blockquote>
<p>The Payment Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"payment_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PAY479027832345678912"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INV479027832278880256"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB479027832035610624"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL468440696748511232"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"succeeded"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1848</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pm_1NvQsHKyuNiyfQC0M4X0Q8Bq"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"processor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"intent_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pi_3NvQsHKyuNiyfQC00d9qFQe3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"last_four"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2028</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"error_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile_app"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"retry_attempt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"audit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"created_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T21:15:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"activation_urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP468442205989113856"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"app_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR469716925099413504"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+ Basic"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://disneyplus.com/activate?token=abc123..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T21:45:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Refund Example:</strong></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"payment_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PAY479027832345678914"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INV479027832278880256"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB479027832035610624"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL468440696748511232"</span><span class="p">,</span><span class="w">

    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refunded"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1848</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">

    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pm_1NvQsHKyuNiyfQC0M4X0Q8Bq"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="w">
    </span><span class="p">},</span><span class="w">

    </span><span class="nl">"processor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"intent_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pi_3NvQsHKyuNiyfQC00d9qFQe3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"refund_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_1NvQsHKyuNiyfQC0M4X0Q8Bq"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_four"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"refund_requested_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer_service"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"original_charge_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T21:15:00.000Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"created_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.100"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-15T14:30:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>payment_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier for the payment record (prefixed with PAY).</p>

<p><strong><code>invoice_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The invoice this payment attempt was made for.</p>

<p><strong><code>subscription_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription associated with this payment.</p>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform identifier that initiated this payment.</p>

<p><strong><code>amount</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Payment amount in cents. Positive values represent payments, negative values represent refunds.</p>

<p><strong><code>currency</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Three-letter ISO currency code.</p>

<p><strong><code>status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Payment processing status:</p>

<ul>
<li><code>succeeded</code> - Payment completed successfully</li>
<li><code>failed</code> - Payment failed to process</li>
<li><code>processing</code> - Payment is being processed</li>
<li><code>canceled</code> - Payment was canceled</li>
<li><code>requires_action</code> - Payment requires additional user action</li>
<li><code>refunded</code> - Full refund processed successfully</li>
<li><code>partially_refunded</code> - Partial refund processed successfully</li>
<li><code>refund_failed</code> - Refund attempt failed</li>
<li><code>refund_pending</code> - Refund is being processed</li>
</ul>

<p><strong><code>payment_method_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Payment processor&#39;s payment method identifier.</p>

<p><strong><code>payment_intent_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Payment processor&#39;s intent identifier.</p>

<p><strong><code>refund_reason</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Reason for refund (only present for refund records).</p>

<p><strong><code>original_payment_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Reference to the original payment being refunded (only present for refund records).</p>

<p><strong><code>error_code</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Error code if payment failed (null for successful payments).</p>

<p><strong><code>error_message</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Human-readable error message if payment failed (null for successful payments).</p>

<p><strong><code>processor_response</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Payment processor&#39;s response data (card details, processor-specific metadata).</p>

<p><strong><code>metadata</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Additional metadata associated with the payment attempt.</p>

<p><strong><code>created_ip</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
IP address from which the payment was initiated.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the payment record was created.</p>

<p><strong><code>activation_urls</code></strong> <span style='margin: 0 5px;font-size:.9em'>array</span><br>
Optional. Returned for successful payments on first invoices. Contains activation URLs for bundled services requiring activation.</p>
<h3 id='bento-api-overview-the-activation-session-object'>The Activation Session Object</h3>
<p>The Activation Session object represents a collection of activation codes generated for a paid subscription, tracking the activation status of each bundled product.</p>

<blockquote>
<p>The Activation Session Object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"activation_session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AS479027832456789123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB479027832035610624"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL468440696748511232"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-21T21:15:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"progress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"items_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items_activated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"activation_urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP468442205989113856"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"app_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR469716925099413504"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+ Basic"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://disneyplus.com/activate?activation_code=AC_A3F2B7C9_D4E1F8A2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-21T21:15:00.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP468442205989113857"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"app_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hulu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR469716925099413505"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hulu (No Ads)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hulu.com/activate?code=AC_B4G2K8D1_F5H9L3M6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-21T21:15:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T21:15:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-08-14T21:15:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>activation_session_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier for the activation session (prefixed with AS).</p>

<p><strong><code>subscription_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription that triggered this activation session.</p>

<p><strong><code>invoice_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The invoice that was paid to trigger activation.</p>

<p><strong><code>session_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The user session associated with the subscription.</p>

<p><strong><code>platform_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The platform identifier that created the subscription.</p>

<p><strong><code>platform_name</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Display name of the platform.</p>

<p><strong><code>status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Overall activation session status:
- <code>pending</code> - Awaiting activation for one or more items
- <code>partial</code> - Some items activated but not all
- <code>completed</code> - All items successfully activated
- <code>failed</code> - Activation failed for one or more items
- <code>expired</code> - Session expired before completion</p>

<p><strong><code>items_total</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Total number of products requiring activation.</p>

<p><strong><code>items_activated</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Number of products successfully activated.</p>

<p><strong><code>created_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the activation session was created.</p>

<p><strong><code>updated_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the activation session was last updated.</p>

<p><strong><code>expires_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
ISO 8601 timestamp when the activation session expires.</p>

<p><strong><code>activation_items</code></strong> <span style='margin: 0 5px;font-size:.9em'>array</span><br>
Array of activation items for each product in the subscription. Each item contains:
- <code>app_id</code> - The app/publisher identifier
- <code>app_name</code> - Display name of the app
- <code>product_id</code> - The product being activated
- <code>product_name</code> - Display name of the product
- <code>status</code> - Item activation status (pending, activated, failed, expired)
- <code>activation_code_hash</code> - SHA-256 hash of the activation code (for validation)
- <code>activation_url</code> - Complete URL for user activation
- <code>jti</code> - Unique JWT identifier for the activation token
- <code>created_at</code> - When this activation item was created
- <code>expires_at</code> - When this activation code expires (typically 7 days)</p>
<h3 id='bento-api-overview-subscription-activation-flow'>Subscription Activation Flow</h3>
<p>Paket&#39;s subscription orchestration service works independently of the Platform&#39;s payment and identity services and the app Publishers&#39; respective identity services. This affords both Platform and Publisher direct ownership of the respective user&#39;s accounts and enhanced privacy for the end user.</p>

<p><img src="images/paket_create_sub_seq_diagram-e36f6da7.jpg" alt="Create Sub Sequence Diagram" /></p>
<h4 id='bento-api-overview-subscription-activation-flow-create-new-subscription'>Create New Subscription</h4>
<ol>
<li><strong>Platform Creates Subscription</strong>: Platform calls <code>POST /v1/catalog/subscriptions</code> with user&#39;s session ID and selected plan</li>
<li><strong>Invoice Generation</strong>: Paket automatically generates the first invoice for the billing period</li>
<li><strong>Platform Processes Payment</strong>: Platform collects payment through their payment service provider (PSP)</li>
<li><strong>Payment Recording</strong>: Platform posts payment result to <code>POST /v1/catalog/subscriptions/{subscription_id}/invoices/{invoice_id}/payments</code></li>
<li><strong>Subscription Activation</strong>: On successful payment, Paket returns activation URLs for each of the plan&#39;s products and triggers the app activation flow</li>
<li><strong>Publisher Notification</strong>: Publishers receive webhooks about new subscriptions requiring activation</li>
</ol>
<h4 id='bento-api-overview-subscription-activation-flow-product-activation'>Product Activation</h4>
<ol>
<li><strong>User Arrives</strong>: User visits activation URL with their unique activation code</li>
<li><strong>Code Validation</strong>: Publisher validates the activation code via <code>POST /v1/catalog/activation/exchange</code></li>
<li><strong>Account Setup</strong>: Publisher completes user sign-up or sign-in process</li>
<li><strong>Activation Confirmation</strong>: Publisher calls <code>PUT /v1/catalog/activation/{session_id}/items/{item_id}</code> to confirm activation</li>
<li><strong>Service Provisioning</strong>: Publisher provisions the service for the activated user</li>
</ol>

<blockquote>
<p>Request to Exchange Activation Code</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.paket.tv/v1/catalog/activation/exchange'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Basic &lt;credentials&gt;'</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{
    "activation_code": "AC_A3F2B7C9_D4E1F8A2"
  }'</span>
</code></pre></div>
<blockquote>
<p>Response with Product Details</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"activation_session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AS479027832456789123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP468442205989113856"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR469716925099413504"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB479027832035610624"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PL468440696748511232"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR469716925099413504"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disney+ Basic"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"disney_basic_tier1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='bento-api-overview-subscription-activation-flow-important-notes'>Important Notes</h4>
<ul>
<li><strong>Time-Limited</strong>: Activation codes expire after 7 days</li>
<li><strong>Single Use</strong>: Each code can only be exchanged once</li>
<li><strong>No Secrets Required</strong>: Simply exchange the code as received from the user</li>
<li><strong>Automatic Validation</strong>: Paket handles all security validation internally</li>
</ul>

<aside class="notice">
After successfully exchanging the activation code and completing user account setup, publishers must confirm the activation by calling PUT /v1/catalog/activation/{session_id}/items/{item_id} to update the activation status.
</aside>
<h3 id='bento-api-overview-subscription-renewal-flow'>Subscription Renewal Flow</h3>
<p>Paket handles subscription renewals automatically through its billing orchestration system. The renewal process ensures continuity of service while maintaining proper billing cycles and platform revenue distribution.</p>

<ol>
<li><strong>Renewal Notification</strong>: Paket sends <code>billing.renewal.upcoming</code> webhook to platforms 7 days before the next billing date</li>
<li><strong>Invoice Generation</strong>: On the billing date, Paket automatically generates a new invoice for the next billing cycle</li>
<li><strong>Platform Notification</strong>: Platform receives <code>invoice.created</code> webhook event with the new invoice details</li>
<li><strong>Payment Processing</strong>: Platform collects payment through their payment service provider (PSP) </li>
<li><strong>Payment Confirmation</strong>: Platform records payment result via <code>POST /v1/catalog/subscriptions/{subscription_id}/invoices/{invoice_id}/payments</code></li>
<li><strong>Renewal Completion</strong>: On successful payment, subscription billing cycle advances and service continues</li>
<li><strong>Publisher Updates</strong>: Publishers receive <code>billing.renewal.processed</code> webhook confirming successful renewal</li>
</ol>
<h3 id='bento-api-overview-subscription-cancellation-flow'>Subscription Cancellation Flow</h3>
<p>Subscription cancellations can be initiated by platforms and are handled gracefully to ensure proper service termination and final billing reconciliation.</p>

<ol>
<li><strong>Cancellation Request</strong>: Platform initiates cancellation via <code>PUT /v1/catalog/subscriptions/{subscription_id}</code> with status <code>&quot;canceled&quot;</code></li>
<li><strong>Final Billing</strong>: Paket calculates any pro-rated charges or credits based on cancellation timing</li>
<li><strong>Publisher Notification</strong>: Publishers receive <code>subscription.canceled</code> webhook event with cancellation details</li>
<li><strong>Service Termination</strong>: Publishers deactivate services for the canceled subscription</li>
<li><strong>Grace Period</strong>: Optional grace period allows users to maintain access until the end of the current billing period</li>
<li><strong>Final Invoice</strong>: If applicable, Paket generates a final invoice for any outstanding charges</li>
<li><strong>Subscription Closure</strong>: Subscription status changes to <code>&quot;canceled&quot;</code> and no future invoices are generated</li>
</ol>

<aside class="warning">
Publishers should immediately revoke access to services upon receiving the subscription.canceled webhook, unless the platform implements an end-of-period grace period policy.
</aside>
<h2 id='bento-api-plans'>Plans</h2>
<p>Plans define the subscription offerings available through the Paket catalog, including pricing, billing cycles, and bundled services.</p>
<h3 id='bento-api-plans-list-plans'>List Plans</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/plans
</code></pre></div>
<p>Retrieves a list of available Plans from the catalog.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/plans</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/plans' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">    "items": [</span>
<span class="s">        {</span>
<span class="s">            "billing_frequency": {</span>
<span class="s">                "unit": "month",</span>
<span class="s">                "value": 1</span>
<span class="s">            },</span>
<span class="s">            "free_trial_days": 0,</span>
<span class="s">            "plan_type": "sub_bundle",</span>
<span class="s">            "updated_at": "2025-08-15T14:59:34+00:00",</span>
<span class="s">            "platform_id": "PL468440696748511232",</span>
<span class="s">            "name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">            "media": {</span>
<span class="s">                "promo_4k_1x": "https://media-dev.paket.tv/media/plans/PL468440696748511232/427944e5ba9e/promo_4k@1x.png",</span>
<span class="s">                "promo_2k_1x": "https://media-dev.paket.tv/media/plans/PL468440696748511232/427944e5ba9e/promo_2k@1x.png"</span>
<span class="s">            },</span>
<span class="s">            "plan_id": "427944e5ba9e",</span>
<span class="s">            "status": "active",</span>
<span class="s">            "localizations": {</span>
<span class="s">                "en-us": {</span>
<span class="s">                    "description": "The bundle with everything you need",</span>
<span class="s">                    "display_name": "Disney+, Hulu, HBO Max Bundle"</span>
<span class="s">                }</span>
<span class="s">            },</span>
<span class="s">            "prices": {</span>
<span class="s">                "US": [</span>
<span class="s">                    {</span>
<span class="s">                        "order": 1,</span>
<span class="s">                        "billing_cycles": null,</span>
<span class="s">                        "price": {</span>
<span class="s">                            "price_in_cents": 1699,</span>
<span class="s">                            "tier_id": "1699",</span>
<span class="s">                            "currency_code": "USD",</span>
<span class="s">                            "price": 16.99</span>
<span class="s">                        }</span>
<span class="s">                    }</span>
<span class="s">                ]</span>
<span class="s">            }</span>
<span class="s">            "created_at": "2025-07-20T04:17:16+00:00",</span>
<span class="s">            "updated_at": "2025-08-20T02:11:13+00:00",</span>
<span class="s">        }</span>
<span class="s">    ],</span>
<span class="s">    "total": 1,</span>
<span class="s">    "next_key": null</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Number of plans to return (1-100, default: 25).</p>

<p><strong><code>next_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Pagination key from previous response.</p>

<p><strong><code>language</code></strong> <span style='margin: 0 5px;font-size:.9em'>string or array</span><br>
Optional. Language code(s) for localized content (default: [&quot;en-us&quot;]).</p>

<p><strong><code>region</code></strong> <span style='margin: 0 5px;font-size:.9em'>string or array</span><br>
Optional. Region code(s) to filter plans by availability (e.g., &quot;US&quot;, &quot;CA&quot;).</p>

<p><strong>Returns</strong></p>

<p>Returns an array of Plan objects (without <code>plan_items</code> array) available in the catalog.</p>
<h3 id='bento-api-plans-get-plan'>Get Plan</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/plans/:plan_id
</code></pre></div>
<p>Retrieves detailed information about a specific plan.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/plans/:plan_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/plans/427944e5ba9e' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "plan_id": "427944e5ba9e",</span>
<span class="s">  "name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">  "plan_type": "sub_bundle",</span>
<span class="s">  "status": "active",</span>
<span class="s">  "platform_id": "PL468440696748511232",</span>
<span class="s">  "free_trial_days": 0,</span>
<span class="s">  "grace_period_days": 7,</span>
<span class="s">  "billing_frequency": {</span>
<span class="s">    "unit": "month",</span>
<span class="s">    "value": 1</span>
<span class="s">  },</span>
<span class="s">  "media": {</span>
<span class="s">    "promo_4k_1x": "https://media.paket.tv/media/plans/PL468440696748511232/427944e5ba9e/promo_4k@1x.png",</span>
<span class="s">    "promo_2k_1x": "https://media.paket.tv/media/plans/PL468440696748511232/427944e5ba9e/promo_2k@1x.png"</span>
<span class="s">  },</span>
<span class="s">  "prices": {</span>
<span class="s">    "US": [</span>
<span class="s">      {</span>
<span class="s">        "order": 1,</span>
<span class="s">        "billing_cycles": 3,</span>
<span class="s">        "price": {</span>
<span class="s">          "price_in_cents": 1699,</span>
<span class="s">          "tier_id": "1699",</span>
<span class="s">          "currency_code": "USD",</span>
<span class="s">          "price": 16.99</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    ]</span>
<span class="s">  },</span>
<span class="s">  "localizations": {</span>
<span class="s">    "en-us": {</span>
<span class="s">        "description": "The bundle with everything you need",</span>
<span class="s">        "display_name": "Disney+, Hulu, HBO Max Bundle"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "plan_items": [</span>
<span class="s">    {</span>
<span class="s">        "status": "active",</span>
<span class="s">        "price_wholesale": {</span>
<span class="s">            "price": 4.56,</span>
<span class="s">            "price_in_cents": 456,</span>
<span class="s">            "currency_code": "USD"</span>
<span class="s">        },</span>
<span class="s">        "name": "Disney+ Basic",</span>
<span class="s">        "app_id": "AP468442205989113856",</span>
<span class="s">        "product_id": "PR469716925099413504",</span>
<span class="s">        "localizations": {</span>
<span class="s">            "en-us": {</span>
<span class="s">                "description": "Disney+ Basic With Ads",</span>
<span class="s">                "display_name": "Disney+ Basic"</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "prices": {</span>
<span class="s">            "US": {</span>
<span class="s">                "price_in_cents": 999,</span>
<span class="s">                "tier_id": "999",</span>
<span class="s">                "currency_code": "USD",</span>
<span class="s">                "price": 9.99</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "app": {</span>
<span class="s">            "id": "AP468442205989113856",</span>
<span class="s">            "name": "Disney+",</span>
<span class="s">            "media": {</span>
<span class="s">                "icon_1x": "https://media.paket.tv/media/apps/AP468442205989113856/icon@1x.png",</span>
<span class="s">                "icon_2x": "https://media.paket.tv/media/apps/AP468442205989113856/icon@2x.png",</span>
<span class="s">                "icon_3x": "https://media.paket.tv/media/apps/AP468442205989113856/icon@3x.png",</span>
<span class="s">                "logo_dark_1x": "https://media.paket.tv/media/apps/AP468442205989113856/logo_dark@1x.png",</span>
<span class="s">                "logo_light_1x": "https://media.paket.tv/media/apps/AP468442205989113856/logo_light@1x.png",</span>
<span class="s">                "tile_1x": "https://media.paket.tv/media/apps/AP468442205989113856/tile@1x.png",</span>
<span class="s">                "tile_2x": "https://media.paket.tv/media/apps/AP468442205989113856/tile@2x.png"</span>
<span class="s">            },</span>
<span class="s">            "status": "live"</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    ...</span>
<span class="s">  ],</span>
<span class="s">  "created_at": "2024-01-15T10:30:00.000Z",</span>
<span class="s">  "updated_at": "2024-01-17T07:28:00.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>plan_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier of the plan to retrieve.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>region</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Region for pricing information (default: &quot;US&quot;).</p>

<p><strong>Returns</strong></p>

<p>Returns a detailed Plan object with complete pricing, plan items, and phase information.</p>
<h2 id='bento-api-subscriptions'>Subscriptions</h2>
<p>Subscriptions represent active relationships between users and plans, managing billing cycles, activation, and payment status. In a typical configuration, Paket operates exclusively as the orchestration layer and the Platform acts as the Merchant of Record, determining when and if an invoice is taxable, in which juristiction, at what amount, and whether the tax should be applied exclusive or inclusive of the plan price. </p>
<h3 id='bento-api-subscriptions-create-subscription'>Create Subscription</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST https://api.paket.tv/v1/catalog/subscriptions
</code></pre></div>
<p>Creates a new subscription for a session with automatic invoice generation.</p>

<blockquote>
<p>POST https://api.paket.tv/v1/catalog/subscriptions</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/subscriptions?region=US' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
  --header 'Idempotency-Key: unique-operation-123' \
  --data '{
    "session_id": "session_456",
    "plan_id": "427944e5ba9e",
    "tax_rate": 0.0875,
    "tax_type": "sales_tax",
    "tax_jurisdiction": "CA-Los Angeles",
    "tax_behavior": "exclusive",
    "tax_note": "",
    "device_info": {
      "device_type": "roku",
      "device_id": "FA1234567890"
    },
    "metadata": {
      "source": "homepage_banner",
      "campaign": "summer_promo"
    }
  }'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "subscription": {</span>
<span class="s">    "subscription_id": "SUB479027832035610624",</span>
<span class="s">    "session_id": "session_456",</span>
<span class="s">    "plan_id": "427944e5ba9e",</span>
<span class="s">    "plan_name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">    "plan_type": "sub_bundle",</span>
<span class="s">    "status": "pending",</span>
<span class="s">    "activation_status": "pending",</span>
<span class="s">    "payment_status": "unpaid",</span>
<span class="s">    "next_billing_date": "2025-09-14T20:45:35.064Z",</span>
<span class="s">    "current_period_start": "2025-08-14T20:45:35.065Z",</span>
<span class="s">    "current_period_end": "2025-09-14T20:45:35.064Z",</span>
<span class="s">    "trial_end": null,</span>
<span class="s">    "grace_period_days": 7,</span>
<span class="s">    "grace_period_end": "2025-09-21T20:45:35.064Z",</span>
<span class="s">    "billing_frequency": {</span>
<span class="s">      "unit": "month",</span>
<span class="s">      "value": 1</span>
<span class="s">    },</span>
<span class="s">    "free_trial_days": 0,</span>
<span class="s">    "tax_rate": 0.0875,</span>
<span class="s">    "tax_type": "sales_tax",</span>
<span class="s">    "tax_jurisdiction": "CA-Los Angeles",</span>
<span class="s">    "tax_behavior": "exclusive",</span>
<span class="s">    "tax_note": "",</span>
<span class="s">    "cancel_at_period_end": false,</span>
<span class="s">    "canceled_at": null,</span>
<span class="s">    "payment_method_id": null,</span>
<span class="s">    "activation_url": null,</span>
<span class="s">    "activation_token": null,</span>
<span class="s">    "platform_id": "PL468440696748511232",</span>
<span class="s">    "metadata": {</span>
<span class="s">      "source": "homepage_banner",</span>
<span class="s">      "campaign": "summer_promo"</span>
<span class="s">    },</span>
<span class="s">    "device_info": {</span>
<span class="s">      "device_type": "roku",</span>
<span class="s">      "device_id": "FA1234567890"</span>
<span class="s">    },</span>
<span class="s">    "created_at": "2025-08-14T20:45:35.065Z",</span>
<span class="s">    "updated_at": "2025-08-14T20:45:35.065Z"</span>
<span class="s">  },</span>
<span class="s">  "invoice": {</span>
<span class="s">    "invoice_id": "INV479027832278880256",</span>
<span class="s">    "invoice_number": "INV-2025-78880256",</span>
<span class="s">    "subscription_id": "SUB479027832035610624",</span>
<span class="s">    "invoice_date": "2025-08-14T20:45:35.122Z",</span>
<span class="s">    "due_date": "2025-09-13T20:45:35.122Z",</span>
<span class="s">    "status": "open",</span>
<span class="s">    "payment_status": "unpaid",</span>
<span class="s">    "subtotal": 1699,</span>
<span class="s">    "tax_amount": 149,</span>
<span class="s">    "total_amount": 1848,</span>
<span class="s">    "amount_due": 1848,</span>
<span class="s">    "amount_paid": 0,</span>
<span class="s">    "currency": "USD",</span>
<span class="s">    "tax_rate": 0.0875,</span>
<span class="s">    "tax_type": "sales_tax",</span>
<span class="s">    "tax_jurisdiction": "CA-Los Angeles",</span>
<span class="s">    "tax_behavior": "exclusive",</span>
<span class="s">    "tax_note": "",</span>
<span class="s">    "period_start": "2025-08-14T20:45:35.065Z",</span>
<span class="s">    "period_end": "2025-09-14T20:45:35.064Z",</span>
<span class="s">    "plan_id": "427944e5ba9e",</span>
<span class="s">    "plan_name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">    "plan_type": "sub_bundle",</span>
<span class="s">    "session_id": "session_456",</span>
<span class="s">    "platform_id": "PL468440696748511232",</span>
<span class="s">    "retry_count": 0,</span>
<span class="s">    "max_retries": 3,</span>
<span class="s">    "payment_method_id": null,</span>
<span class="s">    "payment_intent_id": null,</span>
<span class="s">    "created_at": "2025-08-14T20:45:35.122Z"</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre></div>
<p><strong>Headers</strong></p>

<p>* required</p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong><code>Idempotency-Key</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional but recommended. Unique key to prevent duplicate subscriptions.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>region</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Pricing region (default: &quot;US&quot;).</p>

<p><strong>Request Body</strong></p>

<p>* required</p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The user session identifier.</p>

<p><strong><code>plan_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The plan to subscribe to.</p>

<p><strong><code>tax_behavior</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Specifies whether tax should be collected and how (default: &quot;none&quot;). Valid values:</p>

<ul>
<li><code>inclusive</code> - Tax will be included in plan price (subtotal recalculated based on tax)</li>
<li><code>exclusive</code> - Tax will be added to plan price</li>
<li><code>none</code> - Plan is not taxable</li>
</ul>

<p><strong><code>tax_rate</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Optional. Tax rate to apply as decimal percentage (0-1, default: 0).</p>

<p><strong><code>tax_type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Type of tax (default: &quot;none&quot;). Valid values:</p>

<ul>
<li><code>sales_tax</code></li>
<li><code>vat</code></li>
<li><code>gst</code></li>
<li><code>pst</code></li>
<li><code>hst</code></li>
<li><code>none</code></li>
</ul>

<p><strong><code>tax_jurisdiction</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Tax jurisdiction code (e.g., &quot;CA-Los Angeles&quot;).</p>

<p><strong><code>tax_note</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Additional notes pertaining to the subscription tax.</p>

<p><strong><code>device_info</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Optional. Device information for tracking and analytics.</p>

<p><strong><code>metadata</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Optional. Additional metadata for the subscription.</p>

<p><strong>Returns</strong></p>

<p>Returns an Invoice object for the created subscription.</p>

<aside class="notice">
Creating a subscription automatically generates the first invoice for the billing period. The subscription becomes active once the invoice is paid.
</aside>
<h3 id='bento-api-subscriptions-update-subscription'>Update Subscription</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>PUT https://api.paket.tv/v1/catalog/subscriptions/:subscription_id
</code></pre></div>
<p>Updates an existing subscription&#39;s status, payment method, or other properties.</p>

<blockquote>
<p>PUT https://api.paket.tv/v1/catalog/subscriptions/:subscription_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request PUT 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624' \
  --header 'Content-Type: application/json' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
  --header 'Idempotency-Key: unique-update-456' \
  --data '{
    "status": "active",
    "payment_method_id": "pm_123",
    "activation_url": "https://activate.disney.com/paket/abc123",
    "activation_token": "token_xyz789"
  }'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "status": "active",</span>
<span class="s">  "payment_status": "paid",</span>
<span class="s">  "plan_id": "427944e5ba9e",</span>
<span class="s">  "plan_name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">  "next_billing_date": "2025-09-14T20:45:35.064Z",</span>
<span class="s">  "current_period_start": "2025-08-14T20:45:35.065Z",</span>
<span class="s">  "current_period_end": "2025-09-14T20:45:35.064Z",</span>
<span class="s">  "billing_frequency": {</span>
<span class="s">    "unit": "month",</span>
<span class="s">    "value": 1</span>
<span class="s">  },</span>
<span class="s">  "tax_rate": 0.0875,</span>
<span class="s">  "tax_type": "sales_tax",</span>
<span class="s">  "cancel_at_period_end": false,</span>
<span class="s">  "payment_method_id": "pm_123",</span>
<span class="s">  "activation_url": "https://activate.disney.com/paket/abc123",</span>
<span class="s">  "activation_token": "token_xyz789",</span>
<span class="s">  "updated_at": "2025-08-14T21:00:00.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<p><strong>Path Parameters</strong></p>

<p>* required</p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID to update.</p>

<p><strong>Headers</strong></p>

<p>* required</p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong><code>Content-Type</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Must be <code>application/json</code>.</p>

<p><strong><code>Idempotency-Key</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional but recommended. Unique key to prevent duplicate updates.</p>

<p><strong>Request Body</strong></p>

<p>At least one field is required.</p>

<p><strong><code>status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Update subscription status. Valid values:
- <code>trialing</code>
- <code>active</code>
- <code>past_due</code>
- <code>canceled</code>
- <code>unpaid</code>
- <code>paused</code></p>

<p><strong><code>payment_method_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Payment method identifier.</p>

<p><strong><code>cancel_at_period_end</code></strong> <span style='margin: 0 5px;font-size:.9em'>boolean</span><br>
Optional. Schedule cancellation at end of current period.</p>

<p><strong><code>plan_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Change to a different plan.</p>

<p><strong><code>activation_url</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Publisher activation URL.</p>

<p><strong><code>activation_token</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Token for activation process.</p>

<p><strong><code>tax_rate</code></strong> <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Optional. Update tax rate (0-1).</p>

<p><strong><code>tax_type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Update tax type.</p>

<p><strong><code>tax_jurisdiction</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Update tax jurisdiction.</p>

<p><strong><code>tax_behavior</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Update tax behavior.</p>

<p><strong><code>tax_note</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Update tax note.</p>

<p><strong><code>metadata</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Optional. Update metadata.</p>

<p><strong>Returns</strong></p>

<p>Returns the updated Subscription object.</p>
<h3 id='bento-api-subscriptions-get-subscription'>Get Subscription</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id
</code></pre></div>
<p>Retrieves details of a specific subscription.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "session_id": "session_456",</span>
<span class="s">  "plan_id": "427944e5ba9e",</span>
<span class="s">  "plan_name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">  "plan_type": "sub_bundle",</span>
<span class="s">  "status": "active",</span>
<span class="s">  "activation_status": "pending",</span>
<span class="s">  "payment_status": "paid",</span>
<span class="s">  "next_billing_date": "2025-09-14T20:45:35.064Z",</span>
<span class="s">  "current_period_start": "2025-08-14T20:45:35.065Z",</span>
<span class="s">  "current_period_end": "2025-09-14T20:45:35.064Z",</span>
<span class="s">  "trial_end": null,</span>
<span class="s">  "grace_period_days": 7,</span>
<span class="s">  "billing_frequency": {</span>
<span class="s">    "unit": "month",</span>
<span class="s">    "value": 1</span>
<span class="s">  },</span>
<span class="s">  "free_trial_days": 0,</span>
<span class="s">  "tax_rate": 0.0875,</span>
<span class="s">  "tax_type": "sales_tax",</span>
<span class="s">  "tax_jurisdiction": "CA-Los Angeles",</span>
<span class="s">  "cancel_at_period_end": false,</span>
<span class="s">  "canceled_at": null,</span>
<span class="s">  "payment_method_id": "pm_123",</span>
<span class="s">  "platform_id": "783203561062490278320",</span>
<span class="s">  "metadata": {},</span>
<span class="s">  "created_at": "2025-08-14T20:45:35.065Z",</span>
<span class="s">  "updated_at": "2025-08-14T21:00:00.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p>* required</p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID to retrieve.</p>

<p><strong>Returns</strong></p>

<p>Returns a complete Subscription object.</p>
<h3 id='bento-api-subscriptions-list-subscriptions'>List Subscriptions</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/subscriptions
</code></pre></div>
<p>Lists subscriptions for a specific session.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/subscriptions</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/subscriptions?session_id=session_456&amp;limit=50' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "subscriptions": [</span>
<span class="s">    {</span>
<span class="s">      "subscription_id": "SUB479027832035610624",</span>
<span class="s">      "plan_id": "427944e5ba9e",</span>
<span class="s">      "plan_name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">      "status": "active",</span>
<span class="s">      "payment_status": "paid",</span>
<span class="s">      "next_billing_date": "2025-09-14T20:45:35.064Z",</span>
<span class="s">      "total_amount_due": 1848,</span>
<span class="s">      "currency": "USD",</span>
<span class="s">      "created_at": "2025-08-14T20:45:35.065Z"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "subscription_id": "SUB479025528242835456",</span>
<span class="s">      "plan_id": "netflix_standard",</span>
<span class="s">      "plan_name": "Netflix Standard",</span>
<span class="s">      "status": "trialing",</span>
<span class="s">      "payment_status": "no_payment_required",</span>
<span class="s">      "next_billing_date": "2025-08-21T10:30:00.000Z",</span>
<span class="s">      "total_amount_due": 0,</span>
<span class="s">      "currency": "USD",</span>
<span class="s">      "created_at": "2025-08-07T10:30:00.000Z"</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "lastEvaluatedKey": null</span>
<span class="s">}</span>
</code></pre></div>
<p><strong>Headers</strong></p>

<p>* required</p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The session ID to list subscriptions for.</p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Number of results to return (1-100, default: 25).</p>

<p><strong>Returns</strong></p>

<p>Returns an array of summarized Subscription objects.</p>
<h2 id='bento-api-invoices'>Invoices</h2>
<p>Invoices track billing statements and payment collection for subscription periods.</p>
<h3 id='bento-api-invoices-update-invoice'>Update Invoice</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>PUT https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id
</code></pre></div>
<p>Updates an invoice&#39;s payment status and related fields.</p>

<blockquote>
<p>PUT https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request PUT 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624/invoices/INV479027832278880256' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
  --header 'Idempotency-Key: unique-payment-789' \
  --data '{
    "payment_status": "paid",
    "payment_method_id": "pm_123",
    "payment_intent_id": "pi_456"
  }'
</code></pre></div>
<blockquote>
<p>Response (Standard)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "invoice_id": "INV479027832278880256",</span>
<span class="s">  "invoice_number": "INV-2025-78880256",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "status": "paid",</span>
<span class="s">  "payment_status": "paid",</span>
<span class="s">  "subtotal": 1699,</span>
<span class="s">  "tax_amount": 149,</span>
<span class="s">  "total_amount": 1848,</span>
<span class="s">  "amount_paid": 1848,</span>
<span class="s">  "amount_due": 0,</span>
<span class="s">  "currency": "USD",</span>
<span class="s">  "payment_method_id": "pm_123",</span>
<span class="s">  "payment_intent_id": "pi_456",</span>
<span class="s">  "payment_date": "2025-08-14T21:15:00.000Z",</span>
<span class="s">  "retry_count": 0,</span>
<span class="s">  "updated_at": "2025-08-14T21:15:00.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<blockquote>
<p>Response (First Invoice with Activation URLs)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "invoice_id": "INV479027832278880256",</span>
<span class="s">  "invoice_number": "INV-2025-78880256",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "status": "paid",</span>
<span class="s">  "payment_status": "paid",</span>
<span class="s">  "billing_cycle": 1,</span>
<span class="s">  "subtotal": 1699,</span>
<span class="s">  "tax_amount": 149,</span>
<span class="s">  "total_amount": 1848,</span>
<span class="s">  "amount_paid": 1848,</span>
<span class="s">  "amount_due": 0,</span>
<span class="s">  "currency": "USD",</span>
<span class="s">  "payment_method_id": "pm_123",</span>
<span class="s">  "payment_intent_id": "pi_456",</span>
<span class="s">  "payment_date": "2025-08-14T21:15:00.000Z",</span>
<span class="s">  "updated_at": "2025-08-14T21:15:00.000Z",</span>
<span class="s">  "activation_urls": [</span>
<span class="s">    {</span>
<span class="s">      "app_id": "AP468442205989113856",</span>
<span class="s">      "app_name": "Disney+",</span>
<span class="s">      "product_id": "PR469716925099413504",</span>
<span class="s">      "product_name": "Disney+ Basic",</span>
<span class="s">      "activation_url": "https://disneyplus.com/activate?activation_code=AC_A3F2_B7C9",</span>
<span class="s">      "expires_at": "2025-08-14T22:00:00.000Z"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "app_id": "AP468442310876295168",</span>
<span class="s">      "app_name": "Hulu",</span>
<span class="s">      "product_id": "PR469716985421504512",</span>
<span class="s">      "product_name": "Hulu Basic",</span>
<span class="s">      "activation_url": "https://hulu.com/activate?code=AC_D4E1_F8A2",</span>
<span class="s">      "expires_at": "2025-08-14T22:00:00.000Z"</span>
<span class="s">    }</span>
<span class="s">  ]</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong><code>Idempotency-Key</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional but recommended. Unique key to prevent duplicate updates.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID.</p>

<p><strong><code>invoice_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The invoice ID to update.</p>

<p><strong>Request Body</strong></p>

<p>At least one field is required.</p>

<p><strong><code>payment_status</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Update payment status. Valid values:</p>

<ul>
<li><code>open</code></li>
<li><code>paid</code></li>
<li><code>failed</code></li>
<li><code>processing</code></li>
<li><code>canceled</code></li>
</ul>

<p><strong><code>payment_method_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Payment method used.</p>

<p><strong><code>payment_intent_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Payment processor intent ID.</p>

<p><strong>Returns</strong></p>

<p>Returns the updated Invoice object. When updating a first invoice (billing_cycle &lt;= 1) to <code>payment_status: &quot;paid&quot;</code>, the response may also include an <code>activation_urls</code> array containing activation URLs for each bundled service that requires activation.</p>

<p><strong>Response Fields</strong></p>

<p>All standard Invoice fields plus:</p>

<p><strong><code>activation_urls</code></strong> <span style='margin: 0 5px;font-size:.9em'>array</span><br>
Optional. Returned when payment_status is set to &quot;paid&quot; for first invoices. Contains activation URLs for bundled services. Each object includes:
- <code>app_id</code> - The app/publisher ID
- <code>app_name</code> - Display name of the app
- <code>product_id</code> - The product being activated
- <code>product_name</code> - Display name of the product
- <code>activation_url</code> - URL to redirect user for activation
- <code>expires_at</code> - When the activation URL expires</p>

<aside class="notice">
When payment_status is set to "paid":
- The invoice status automatically updates to "paid"
- The subscription becomes active if it was pending payment
- For first invoices (billing_cycle <= 1), activation sessions are created and activation URLs are returned
- Webhooks are sent to publishers notifying them of pending activations
</aside>
<h3 id='bento-api-invoices-get-invoice'>Get Invoice</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id
</code></pre></div>
<p>Retrieves details of a specific invoice.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624/invoices/INV479027832278880256' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "invoice_id": "INV479027832278880256",</span>
<span class="s">  "invoice_number": "INV-2025-78880256",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "invoice_date": "2025-08-14T20:45:35.122Z",</span>
<span class="s">  "due_date": "2025-09-13T20:45:35.122Z",</span>
<span class="s">  "status": "open",</span>
<span class="s">  "payment_status": "unpaid",</span>
<span class="s">  "subtotal": 1699,</span>
<span class="s">  "tax_amount": 149,</span>
<span class="s">  "total_amount": 1848,</span>
<span class="s">  "amount_due": 1848,</span>
<span class="s">  "amount_paid": 0,</span>
<span class="s">  "currency": "USD",</span>
<span class="s">  "tax_rate": 0.0875,</span>
<span class="s">  "tax_type": "sales_tax",</span>
<span class="s">  "tax_jurisdiction": "CA-Los Angeles",</span>
<span class="s">  "period_start": "2025-08-14T20:45:35.065Z",</span>
<span class="s">  "period_end": "2025-09-14T20:45:35.064Z",</span>
<span class="s">  "plan_id": "427944e5ba9e",</span>
<span class="s">  "plan_name": "Disney+, Hulu, HBO Max Bundle",</span>
<span class="s">  "retry_count": 0,</span>
<span class="s">  "max_retries": 3,</span>
<span class="s">  "next_retry_date": null,</span>
<span class="s">  "session_id": "session_456",</span>
<span class="s">  "platform_id": "783203561062490278320",</span>
<span class="s">  "created_at": "2025-08-14T20:45:35.122Z"</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID.</p>

<p><strong><code>invoice_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The invoice ID to retrieve.</p>

<p><strong>Returns</strong></p>

<p>Returns a complete Invoice object.</p>
<h3 id='bento-api-invoices-list-invoices'>List Invoices</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices
</code></pre></div>
<p>Lists all invoices for a specific subscription.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624/invoices?limit=50' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "invoices": [</span>
<span class="s">    {</span>
<span class="s">      "invoice_id": "INV479027832278880256",</span>
<span class="s">      "invoice_number": "INV-2025-78880256",</span>
<span class="s">      "invoice_date": "2025-08-14T20:45:35.122Z",</span>
<span class="s">      "due_date": "2025-09-13T20:45:35.122Z",</span>
<span class="s">      "status": "open",</span>
<span class="s">      "payment_status": "unpaid",</span>
<span class="s">      "total_amount": 1848,</span>
<span class="s">      "currency": "USD",</span>
<span class="s">      "period_start": "2025-08-14T20:45:35.065Z",</span>
<span class="s">      "period_end": "2025-09-14T20:45:35.064Z"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "invoice_id": "INV479025528485658880",</span>
<span class="s">      "invoice_number": "INV-2025-85658880",</span>
<span class="s">      "invoice_date": "2025-07-14T20:45:00.000Z",</span>
<span class="s">      "due_date": "2025-08-13T20:45:00.000Z",</span>
<span class="s">      "status": "paid",</span>
<span class="s">      "payment_status": "paid",</span>
<span class="s">      "total_amount": 1848,</span>
<span class="s">      "currency": "USD",</span>
<span class="s">      "period_start": "2025-07-14T20:45:00.000Z",</span>
<span class="s">      "period_end": "2025-08-14T20:45:00.000Z"</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "lastEvaluatedKey": null</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID to list invoices for.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Number of results to return (1-100, default: 25).</p>

<p><strong>Returns</strong></p>

<p>Returns an array of summarized Invoice objects, sorted by most recent first.</p>
<h2 id='bento-api-payments'>Payments</h2>
<p>Payments provide immutable audit trails of all payment attempts for invoices. Unlike invoices which can be updated, payment records are never modified once created, ensuring complete payment history and compliance.</p>
<h3 id='bento-api-payments-create-payment'>Create Payment</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id/payments
</code></pre></div>
<p>Creates an immutable payment record for an invoice. Supports both payments (positive amounts) and refunds (negative amounts).</p>

<blockquote>
<p>POST https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id/payments</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request POST 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624/invoices/INV479027832278880256/payments' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;' \
  --header 'Idempotency-Key: unique-payment-123' \
  --data '{
    "amount": 1848,
    "currency": "USD",
    "status": "succeeded",
    "payment_method_id": "pm_1NvQsHKyuNiyfQC0M4X0Q8Bq",
    "payment_intent_id": "pi_3NvQsHKyuNiyfQC00d9qFQe3",
    "processor_response": {
      "last_four": "4242",
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2028
    },
    "metadata": {
      "source": "web_app",
      "retry_attempt": 0
    }
  }'
</code></pre></div>
<blockquote>
<p>Response (Successful Payment)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "payment_id": "PAY479027832345678912",</span>
<span class="s">  "invoice_id": "INV479027832278880256",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "platform_id": "PL468440696748511232",</span>
<span class="s">  "amount": 1848,</span>
<span class="s">  "currency": "USD",</span>
<span class="s">  "status": "succeeded",</span>
<span class="s">  "payment_method_id": "pm_1NvQsHKyuNiyfQC0M4X0Q8Bq",</span>
<span class="s">  "payment_intent_id": "pi_3NvQsHKyuNiyfQC00d9qFQe3",</span>
<span class="s">  "error_code": null,</span>
<span class="s">  "error_message": null,</span>
<span class="s">  "processor_response": {</span>
<span class="s">    "last_four": "4242",</span>
<span class="s">    "brand": "visa",</span>
<span class="s">    "exp_month": 12,</span>
<span class="s">    "exp_year": 2028</span>
<span class="s">  },</span>
<span class="s">  "metadata": {</span>
<span class="s">    "source": "web_app",</span>
<span class="s">    "retry_attempt": 0</span>
<span class="s">  },</span>
<span class="s">  "created_ip": "192.168.1.100",</span>
<span class="s">  "created_at": "2025-08-14T21:15:00.000Z",</span>
<span class="s">  "activation_urls": [</span>
<span class="s">    {</span>
<span class="s">      "app_id": "AP468442205989113856",</span>
<span class="s">      "app_name": "Disney+",</span>
<span class="s">      "product_id": "PR469716925099413504",</span>
<span class="s">      "product_name": "Disney+ Basic",</span>
<span class="s">      "activation_url": "https://disneyplus.com/activate?token=abc123...",</span>
<span class="s">      "expires_at": "2025-08-14T21:45:00.000Z"</span>
<span class="s">    }</span>
<span class="s">  ]</span>
<span class="s">}</span>
</code></pre></div>
<blockquote>
<p>Response (Failed Payment)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "payment_id": "PAY479027832345678913",</span>
<span class="s">  "invoice_id": "INV479027832278880256",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "platform_id": "PL468440696748511232",</span>
<span class="s">  "amount": 1848,</span>
<span class="s">  "currency": "USD",</span>
<span class="s">  "status": "failed",</span>
<span class="s">  "payment_method_id": "pm_1NvQsHKyuNiyfQC0M4X0Q8Bq",</span>
<span class="s">  "payment_intent_id": "pi_3NvQsHKyuNiyfQC00d9qFQe3",</span>
<span class="s">  "error_code": "insufficient_funds",</span>
<span class="s">  "error_message": "Your card has insufficient funds.",</span>
<span class="s">  "processor_response": {</span>
<span class="s">    "last_four": "4242",</span>
<span class="s">    "brand": "visa",</span>
<span class="s">    "decline_code": "insufficient_funds"</span>
<span class="s">  },</span>
<span class="s">  "metadata": {</span>
<span class="s">    "source": "web_app",</span>
<span class="s">    "retry_attempt": 1</span>
<span class="s">  },</span>
<span class="s">  "created_ip": "192.168.1.100",</span>
<span class="s">  "created_at": "2025-08-14T21:16:30.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong><code>Idempotency-Key</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional but recommended. Unique key to prevent duplicate payment records.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID.</p>

<p><strong><code>invoice_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The invoice ID to create payment for.</p>

<p><strong>Request Body</strong></p>

<p><strong><code>amount</code></strong>* <span style='margin: 0 5px;font-size:.9em'>number</span><br>
Payment amount in cents. Use positive values for payments, negative values for refunds.</p>

<p><strong><code>status</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Payment processing status. Valid values:</p>

<ul>
<li><code>succeeded</code> - Payment completed successfully</li>
<li><code>failed</code> - Payment failed to process</li>
<li><code>processing</code> - Payment is being processed</li>
<li><code>canceled</code> - Payment was canceled</li>
<li><code>requires_action</code> - Payment requires additional user action</li>
<li><code>refunded</code> - Full refund processed successfully</li>
<li><code>partially_refunded</code> - Partial refund processed successfully</li>
<li><code>refund_failed</code> - Refund attempt failed</li>
<li><code>refund_pending</code> - Refund is being processed</li>
</ul>

<p><strong><code>currency</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Three-letter ISO currency code (defaults to USD).</p>

<p><strong><code>payment_method_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Payment processor&#39;s payment method identifier.</p>

<p><strong><code>payment_intent_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Payment processor&#39;s intent identifier.</p>

<p><strong><code>refund_reason</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Reason for refund (only applicable for refund records).</p>

<p><strong><code>original_payment_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Reference to the original payment being refunded (only applicable for refund records).</p>

<p><strong><code>error_code</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Error code for failed payments.</p>

<p><strong><code>error_message</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. Human-readable error message for failed payments.</p>

<p><strong><code>processor_response</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Optional. Additional response data from the payment processor.</p>

<p><strong><code>metadata</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
Optional. Additional metadata for the payment attempt.</p>

<p><strong>Returns</strong></p>

<p>Returns the created Payment object. The payment record is immutable and cannot be modified after creation.</p>

<aside class="notice">
When status is "succeeded":
- The invoice payment status is automatically updated to "paid"
- The subscription becomes active if it was pending payment
- For first invoices (billing_cycle <= 1), activation sessions are created and activation URLs are returned
- The subscription billing cycle is incremented for future invoices

For refunds (negative amounts):
- Refunds are recorded for audit trail purposes but don't change invoice or subscription status
- Use refund_reason and original_payment_id fields to track refund details
- Refunds don't trigger activation sessions or subscription updates
</aside>

<aside class="warning">
Payment records are immutable for audit trail purposes. Each payment attempt creates a new payment record. To record multiple attempts, create separate payment records for each attempt.
</aside>
<h3 id='bento-api-payments-get-payment'>Get Payment</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id/payments/:payment_id
</code></pre></div>
<p>Retrieves details of a specific payment record.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id/payments/:payment_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624/invoices/INV479027832278880256/payments/PAY479027832345678912' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "payment_id": "PAY479027832345678912",</span>
<span class="s">  "invoice_id": "INV479027832278880256",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "platform_id": "PL468440696748511232",</span>
<span class="s">  "amount": 1848,</span>
<span class="s">  "currency": "USD",</span>
<span class="s">  "status": "succeeded",</span>
<span class="s">  "payment_method_id": "pm_1NvQsHKyuNiyfQC0M4X0Q8Bq",</span>
<span class="s">  "payment_intent_id": "pi_3NvQsHKyuNiyfQC00d9qFQe3",</span>
<span class="s">  "error_code": null,</span>
<span class="s">  "error_message": null,</span>
<span class="s">  "processor_response": {</span>
<span class="s">    "last_four": "4242",</span>
<span class="s">    "brand": "visa",</span>
<span class="s">    "exp_month": 12,</span>
<span class="s">    "exp_year": 2028</span>
<span class="s">  },</span>
<span class="s">  "metadata": {</span>
<span class="s">    "source": "web_app",</span>
<span class="s">    "retry_attempt": 0</span>
<span class="s">  },</span>
<span class="s">  "created_ip": "192.168.1.100",</span>
<span class="s">  "created_at": "2025-08-14T21:15:00.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID.</p>

<p><strong><code>invoice_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The invoice ID.</p>

<p><strong><code>payment_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The payment ID to retrieve.</p>

<p><strong>Returns</strong></p>

<p>Returns the complete Payment object.</p>
<h3 id='bento-api-payments-list-payments'>List Payments</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id/payments
</code></pre></div>
<p>Lists all payment attempts for a specific invoice, sorted by most recent first.</p>

<blockquote>
<p>GET https://api.paket.tv/v1/catalog/subscriptions/:subscription_id/invoices/:invoice_id/payments</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location 'https://api.paket.tv/v1/catalog/subscriptions/SUB479027832035610624/invoices/INV479027832278880256/payments?limit=25' \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;'
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "payments": [</span>
<span class="s">    {</span>
<span class="s">      "payment_id": "PAY479027832345678912",</span>
<span class="s">      "invoice_id": "INV479027832278880256",</span>
<span class="s">      "subscription_id": "SUB479027832035610624",</span>
<span class="s">      "platform_id": "PL468440696748511232",</span>
<span class="s">      "amount": 1848,</span>
<span class="s">      "currency": "USD",</span>
<span class="s">      "status": "succeeded",</span>
<span class="s">      "payment_method_id": "pm_1NvQsHKyuNiyfQC0M4X0Q8Bq",</span>
<span class="s">      "payment_intent_id": "pi_3NvQsHKyuNiyfQC00d9qFQe3",</span>
<span class="s">      "created_at": "2025-08-14T21:15:00.000Z"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "payment_id": "PAY479027832345678911",</span>
<span class="s">      "invoice_id": "INV479027832278880256",</span>
<span class="s">      "subscription_id": "SUB479027832035610624",</span>
<span class="s">      "platform_id": "PL468440696748511232",</span>
<span class="s">      "amount": 1848,</span>
<span class="s">      "currency": "USD",</span>
<span class="s">      "status": "failed",</span>
<span class="s">      "error_code": "insufficient_funds",</span>
<span class="s">      "error_message": "Your card has insufficient funds.",</span>
<span class="s">      "created_at": "2025-08-14T21:10:30.000Z"</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "lastEvaluatedKey": null</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>subscription_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The subscription ID.</p>

<p><strong><code>invoice_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The invoice ID to list payments for.</p>

<p><strong>Query Parameters</strong></p>

<p><strong><code>limit</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
Optional. Number of results to return (1-100, default: 25).</p>

<p><strong>Returns</strong></p>

<p>Returns an array of Payment objects, sorted by most recent first. This shows the complete payment history for an invoice, including all successful and failed attempts.</p>
<h2 id='bento-api-activation'>Activation</h2>
<p>The Activation API provides endpoints for managing product activation sessions and validating activation codes. When a subscription is successfully paid, Paket automatically creates activation sessions for bundled services that require user activation.</p>
<h3 id='bento-api-activation-exchange-activation-code'>Exchange Activation Code</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST https://api.paket.tv/v1/catalog/activation/exchange
</code></pre></div>
<p>Validates and exchanges an activation code for product licensing information. Publishers use this endpoint to verify activation codes received from users.</p>

<aside class="warning">
This endpoint is only accessible to the App tenant (Publisher) to which the respective product belongs.
</aside>

<blockquote>
<p>POST https://api.paket.tv/v1/catalog/activation/exchange</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request POST 'https://api.paket.tv/v1/catalog/activation/exchange' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;' \
  --data '{
    "activation_code": "AC_A3F2B7C9_D4E1F8A2"
  }'
</code></pre></div>
<blockquote>
<p>Response (Successful Exchange)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "activation_session_id": "AS479027832456789123",</span>
<span class="s">  "app_id": "AP468442205989113856",</span>
<span class="s">  "product_id": "PR469716925099413504",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "platform_id": "PL468440696748511232",</span>
<span class="s">  "platform_name": "Example Platform",</span>
<span class="s">  "product": {</span>
<span class="s">    "product_id": "PR469716925099413504",</span>
<span class="s">    "product_name": "Disney+ Basic",</span>
<span class="s">    "name": "Disney+ Basic",</span>
<span class="s">    "description": "Disney+ Basic With Ads",</span>
<span class="s">    "status": "active",</span>
<span class="s">    "product_type": "streaming",</span>
<span class="s">    "metadata": {</span>
<span class="s">      "tier": "basic",</span>
<span class="s">      "ads_supported": true</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "jti": "at_479027832567890234",</span>
<span class="s">  "exchanged_at": "2025-08-14T21:30:00.000Z",</span>
<span class="s">  "expires_at": "2025-08-17T21:15:00.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<blockquote>
<p>Response (Invalid/Expired Code)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "error": "activation_code_not_found",</span>
<span class="s">  "message": "Activation code not found or expired"</span>
<span class="s">}</span>
</code></pre></div>
<blockquote>
<p>Response (Already Used)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">409</span> <span class="ne">Conflict</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "error": "activation_code_already_used",</span>
<span class="s">  "message": "This activation code has already been exchanged"</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Request Body</strong></p>

<p><strong><code>activation_code</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The activation code to validate and exchange, taken from the activation URL.</p>

<p><strong>Returns</strong></p>

<p>Returns activation details and product information if the code is valid and unused. The activation code is marked as exchanged and cannot be used again.</p>

<p><strong>Implementation Notes</strong></p>

<p>Publishers should:
1. Exchange the activation code received from the user
2. Complete user sign-up or sign-in process
3. Confirm the activation using the Update Activation Status endpoint
4. Handle error cases (expired, invalid, or already used codes)</p>

<aside class="notice">
Activation codes are single-use and expire after 7 days for security. Each successful exchange marks the code as used and cannot be reversed.
</aside>

<aside class="warning">
Publishers must implement proper error handling for expired or invalid activation codes. Users may need to request new activation codes if theirs have expired.
</aside>
<h3 id='bento-api-activation-update-activation-status'>Update Activation Status</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>PUT https://api.paket.tv/v1/catalog/activation/:session_id/items/:item_id
</code></pre></div>
<p>Confirms that a user has successfully completed the activation process. This endpoint should be called after the service has been successfully provisioned for the user.</p>

<aside class="notice">
This endpoint is accessible to both Publishers and Platforms. <strong>Publishers primary use case</strong>: Confirm successful user activation after account setup. <strong>Platforms</strong>: Administrative use, update activation status for support purposes
</aside>

<blockquote>
<p>PUT https://api.paket.tv/v1/catalog/activation/:session_id/items/:item_id</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request PUT 'https://api.paket.tv/v1/catalog/activation/AS479027832456789123/items/AP468442205989113856' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;' \
  --data '{
    "status": "activated",
    "activated_at": "2025-08-14T21:35:00.000Z",
    "user_id": "publisher_user_123"
  }'
</code></pre></div>
<blockquote>
<p>Response (Successful Update)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "activation_session_id": "AS479027832456789123",</span>
<span class="s">  "item_id": "AP468442205989113856",</span>
<span class="s">  "product_id": "PR469716925099413504",</span>
<span class="s">  "status": "activated",</span>
<span class="s">  "activated_at": "2025-08-14T21:35:00.000Z",</span>
<span class="s">  "updated_at": "2025-08-14T21:35:00.000Z"</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The activation session ID returned from the exchange endpoint.</p>

<p><strong><code>item_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The app ID for the item being activated.</p>

<p><strong>Request Body</strong></p>

<p><strong><code>status</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The activation status. Valid values:
- <code>activated</code> - Successfully activated
- <code>failed</code> - Activation failed</p>

<p><strong><code>activated_at</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. ISO 8601 timestamp of when the activation was completed.</p>

<p><strong><code>user_id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Optional. The publisher&#39;s internal user ID for tracking.</p>

<p><strong><code>error_reason</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Required if status is <code>failed</code>. Reason for activation failure.</p>

<p><strong>Returns</strong></p>

<p>Returns the updated activation item confirming the activation status has been recorded.</p>
<h3 id='bento-api-activation-regenerate-activation-codes'>Regenerate Activation Codes</h3>
<blockquote>
<p>Endpoint</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>POST https://api.paket.tv/v1/catalog/activation/:session_id/regenerate
</code></pre></div>
<p>Regenerates expired activation codes for a subscription. This endpoint allows platforms to generate new activation codes when the original codes have expired after 7 days.</p>

<aside class="warning">
This endpoint is only accessible to the Platform tenant (Platform) from which the subscription was created.
</aside>

<blockquote>
<p>POST https://api.paket.tv/v1/catalog/activation/:session_id/regenerate</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>curl --location --request POST 'https://api.paket.tv/v1/catalog/activation/AS479027832456789123/regenerate' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Basic &lt;credentials&gt;' \
  --data '{
    "regenerate_all": false,
    "app_ids": ["AP468442205989113856"]
  }'
</code></pre></div>
<blockquote>
<p>Response (Successful Regeneration)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "activation_session_id": "AS479027832456789123",</span>
<span class="s">  "subscription_id": "SUB479027832035610624",</span>
<span class="s">  "regenerated_count": 1,</span>
<span class="s">  "activation_urls": [</span>
<span class="s">    {</span>
<span class="s">      "app_id": "AP468442205989113856",</span>
<span class="s">      "app_name": "Disney+",</span>
<span class="s">      "product_id": "PR469716925099413504",</span>
<span class="s">      "product_name": "Disney+ Basic",</span>
<span class="s">      "activation_url": "https://disneyplus.com/activate?activation_code=AC_B4G7K2L9_M3N5P8Q1",</span>
<span class="s">      "expires_at": "2025-08-21T21:15:00.000Z"</span>
<span class="s">    }</span>
<span class="s">  ]</span>
<span class="s">}</span>
</code></pre></div>
<blockquote>
<p>Response (Session Not Found)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "error": "activation_session_not_found",</span>
<span class="s">  "message": "Activation session not found or expired"</span>
<span class="s">}</span>
</code></pre></div>
<blockquote>
<p>Response (Codes Still Valid)</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">409</span> <span class="ne">Conflict</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "error": "codes_still_valid",</span>
<span class="s">  "message": "Existing activation codes are still valid and have not expired"</span>
<span class="s">}</span>
</code></pre></div>
<p>* required</p>

<p><strong>Headers</strong></p>

<p><strong><code>Authorization</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Your API credentials for authentication.</p>

<p><strong>Path Parameters</strong></p>

<p><strong><code>session_id</code></strong>* <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The activation session ID for which to regenerate codes.</p>

<p><strong>Request Body</strong></p>

<p><strong><code>regenerate_all</code></strong> <span style='margin: 0 5px;font-size:.9em'>boolean</span><br>
Optional. If true, regenerates codes for all products in the session. Default: false.</p>

<p><strong><code>app_ids</code></strong> <span style='margin: 0 5px;font-size:.9em'>array</span><br>
Optional. Array of app IDs for which to regenerate codes. Required if <code>regenerate_all</code> is false.</p>

<p><strong><code>force</code></strong> <span style='margin: 0 5px;font-size:.9em'>boolean</span><br>
Optional. If true, regenerates codes even if existing codes haven&#39;t expired. Default: false.</p>

<p><strong>Returns</strong></p>

<p>Returns the activation session with new activation URLs containing fresh codes valid for another 7 days.</p>

<aside class="notice">
New codes will be generated with a 7-day expiration period. The original codes will be invalidated and cannot be used after regeneration.
</aside>

<aside class="warning">
Regenerating codes will invalidate any existing unused codes. Users who have already received the old codes will need to be provided with the new activation URLs.
</aside>
<h1 id='webhooks'>Webhooks</h1><h2 id='webhooks-events'>Events</h2>
<p>Events are our way of letting you know when something interesting happens in your account. When an interesting event occurs, we create a new <code>Event</code> object. For example, when a Context is added to a Session, we create a <code>context.session.context_added</code> event, and when a bundle subscription is canceled, we create an <code>context.subscription.canceled</code> event.</p>
<h3 id='webhooks-events-the-event-object'>The Event object</h3>
<blockquote>
<p>Example webhook event</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"evt_a75f6d23be8c17b1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"context.session.context_added"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709679883853</span><span class="p">,</span><span class="w">
  </span><span class="nl">"api_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req_2442fd8627bedb77"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"idempotency_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"context_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b0af623-2923-4997-92a6-73f94bbe321e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"286d2a536a5d6b6b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"417f3625d067cbe3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-03-05T23:04:43.684Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4c682b9e-65b4-4e43-a5e9-96f58a967240"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Attributes</strong></p>

<p><strong><code>id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier of the webhook event.</p>

<p><strong><code>object</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Description of the object type (e.g., <code>event</code>).</p>

<p><strong><code>type</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
Description of the event (e.g., <code>context.session.context_added</code> or <code>context.subscription.canceled</code>)</p>

<p><strong><code>created</code></strong> <span style='margin: 0 5px;font-size:.9em'>integer</span><br>
<code>UTC</code> timestamp when the event was created. </p>

<p><strong><code>api_version</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The Paket API version through which the triggering API request was made.</p>

<p><strong><code>request</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
An object containing details of the event&#39;s triggering API request.</p>

<p><strong><code>request.id</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The unique identifier of the event&#39;s triggering API request.</p>

<p><strong><code>request.idempotency_key</code></strong> <span style='margin: 0 5px;font-size:.9em'>string</span><br>
The <code>idempotency_key</code>, if any, of the original request. Otherwise <code>null</code>.</p>

<p><strong><code>data</code></strong> <span style='margin: 0 5px;font-size:.9em'>object</span><br>
An object containing the data associated with the event.</p>
<h3 id='webhooks-events-types-of-events'>Types of events</h3>
<p>This is a list of all the types of events we currently send. We may add more at any time, so in developing and maintaining your code, you should not assume that only these types exist.</p>

<p>You’ll notice that these events follow a pattern: <code>resource.event</code>. Our goal is to design a consistent system that makes things easier to anticipate and code against.</p>

<p><strong>Events</strong></p>

<p><strong><code>context.session.deleted</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#core-api-sessions-the-session-context-object">session context</a></span><br>
Occurs when a Session is removed.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) that have contexts in the deleted session</span></p>

<p><strong><code>context.session.context_added</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#core-api-sessions-the-session-context-object">session context</a></span><br>
Occurs when a Context is added to a Session.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) that own the added context</span></p>

<p><strong><code>context.session.context_removed</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#core-api-sessions-the-session-context-object">session context</a></span><br>
Occurs when a Context is removed from a Session.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) that own the removed context</span></p>

<p><strong><code>context.list.item_hidden</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#upnext-api-overview-the-list-item-object">list item</a></span><br>
Occurs when a Context user removes or hides an item from their List via the Platform.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) that own the hidden item</span></p>

<p><strong><code>subscription.created</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when a platform creates a subscription that includes a publisher&#39;s product.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products are included in the subscription</span></p>

<p><strong><code>subscription.activated</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when all products in a subscription are successfully activated.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription</span></p>

<p><strong><code>subscription.canceled</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when a platform cancels a subscription.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products were included in the canceled subscription</span></p>

<p><strong><code>subscription.paused</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when a platform pauses a subscription.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products are included in the paused subscription</span></p>

<p><strong><code>subscription.resumed</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when a platform resumes a paused subscription.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products are included in the resumed subscription</span></p>

<p><strong><code>activation.session.created</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is an <a href="#license-api-activation-activation-session-object">activation session</a></span><br>
Occurs when payment succeeds and activation session is created.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products require activation in the session</span></p>

<p><strong><code>activation.code.exchanged</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is activation exchange details</span><br>
Occurs when a publisher successfully exchanges an activation code.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription containing the exchanged code</span></p>

<p><strong><code>activation.item.completed</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is activation item details</span><br>
Occurs when a publisher confirms successful activation via the Update Activation Status endpoint.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription containing the activated item</span></p>

<p><strong><code>activation.session.completed</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is an <a href="#license-api-activation-activation-session-object">activation session</a></span><br>
Occurs when all items in an activation session are activated.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription with the completed activation session</span></p>

<p><strong><code>activation.session.expired</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is an <a href="#license-api-activation-activation-session-object">activation session</a></span><br>
Occurs when activation session expires after 7 days without completion.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription with the expired activation session</span></p>

<p><strong><code>activation.codes.regenerated</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is regeneration details</span><br>
Occurs when a platform regenerates activation codes.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose activation codes were regenerated</span></p>

<p><strong><code>payment.succeeded</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-payments-the-payment-object">payment</a></span><br>
Occurs when a payment is successfully processed.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription receiving the payment</span></p>

<p><strong><code>payment.failed</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-payments-the-payment-object">payment</a></span><br>
Occurs when a payment attempt fails.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription with the failed payment</span></p>

<p><strong><code>invoice.created</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is an <a href="#license-api-invoices-the-invoice-object">invoice</a></span><br>
Occurs when a new invoice is generated for a subscription (renewal or initial billing).<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription receiving the invoice</span></p>

<p><strong><code>invoice.paid</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is an <a href="#license-api-invoices-the-invoice-object">invoice</a></span><br>
Occurs when an invoice is marked as paid (first invoice only for activation flow).<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products are included in the paid invoice</span></p>

<p><strong><code>invoice.payment_failed</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is an <a href="#license-api-invoices-the-invoice-object">invoice</a></span><br>
Occurs when payment fails after grace period.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products are included in the unpaid invoice</span></p>

<p><strong><code>billing.renewal.upcoming</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs 7 days before next billing date.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the subscription approaching renewal</span></p>

<p><strong><code>billing.renewal.processed</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when renewal payment is processed.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Platforms that created the renewed subscription</span></p>

<p><strong><code>billing.grace_period.entered</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when subscription enters grace period after payment failure.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products are included in the subscription entering grace period</span></p>

<p><strong><code>billing.grace_period.expired</code></strong> <span style='margin: 0 5px;font-size:.8em'><code>data.object</code> is a <a href="#license-api-subscriptions-the-subscription-object">subscription</a></span><br>
Occurs when grace period ends without payment.<br>
<span style='margin: 0 5px;font-size:.8em;color:#666'><strong>Recipients</strong>: Publishers (Apps) whose products are included in the subscription with expired grace period</span></p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
